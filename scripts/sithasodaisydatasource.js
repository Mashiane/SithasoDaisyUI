
/* sithasodaisydatasource */
function banano_sithasodaisydatasource_sduidatasource() {var _B=this;_B._sformname="";_B._sparentid="";_B._sjrdcread="";_B._sjrdcinsert="";_B._sjrdcupdate="";_B._sjrdcdelete="";_B._sjrdcselect="";_B._relationships=[];_B._mname="";_B._meventname="";_B._mcallback={};_B._mtarget=null;_B._melement=null;_B._saction="";_B._sautoincrement="";_B._sblobs="";_B._scustomquery="";_B._sdatabasename="";_B._sdatabasetype="";_B._sdoubles="";_B._bdynamic=false;_B._sfields="";_B._shostname="";_B._srawbaseurl="";_B._sintegers="";_B._ssalt="";_B._sport="";_B._multiselect=[];_B._bwatchchanges=false;_B._usefirestore=false;_B._bworkonline=false;_B._orderbyl=[];_B._flds1=[];_B._root= new banano_sithasodaisy_sduidiv();_B._affectedrows=0;_B._error="";_B._ok="";_B._response="";_B._result=[];_B._record={};_B._readdatatypes={};_B._sorderby="";_B._spassword="";_B._sprimarykey="";_B._srecordsource="";_B._sselectfields="";_B._stablename="";_B._susername="";_B._sdefaults="";_B._schemaintegers=[];_B._schemastrings=[];_B._schemadoubles=[];_B._schemablobs=[];_B._schemafields=[];_B._schemadefaults=[];_B._schemadefaultsm={};_B._smultiselect="";_B._blivereplication=false;_B._bfbconnect=false;_B._strings=[];_B._integers=[];_B._blobs=[];_B._doubles=[];_B._schemaorderby=[];_B._schemaselectfields=[];_B._tag="";_B._ssingular="";_B._splural="";_B._sdisplayfield="";_B._sprimarykeyvalue="";_B._action_create_table="CreateTable";_B._action_create_bulk="CreateBulk";_B._action_create="Create";_B._action_read="Read";_B._action_update="Update";_B._action_delete="Delete";_B._action_selectall="SelectAll";_B._action_selectwhere="SelectWhere";_B._action_count="Count";_B._action_getmax="GetMax";_B._action_getmin="GetMin";_B._action_sumof="SumOf";_B._action_custom="Custom";_B._action_report="Report";_B._action_pdf="Pdf";_B._action_excel="Excel";_B._action_selectforcombo="SelectForCombo";_B._action_chart="Chart";_B._action_exists="Exists";_B._action_tablenames="TableNames";_B._action_describetable="DescribeTable";_B._action_undo="Undo";_B._action_connect="Connect";_B._action_showdatabases="ShowDataBases";_B._action_show_create_table="ShowCreateTable";_B._action_drop_database="DropDatabase";_B._action_drop_table="DropTable";_B._action_replicate="Replicate";_B._mode_create="C";_B._mode_update="U";_B._mode_read="R";_B._mode_delete="D";_B._sjrdcselectwhere="";_B._sjrdcexists="";_B._sjrdcselectwherecustom="";_B._cw={};_B._ops=[];_B._mode="";_B._showlog=false;_B._command_insert="insert";_B._command_update="update";_B._command_delete="delete";_B._command_other="other";_B._sjrdccommand="";_B._mpayload={};_B._td= new banano_sithasodaisy_tabledescription();_B._result_success="Success";_B._result_error="Error";_B._qparameters={};_B._busesparameters=false;_B._blowercasefields=false;_B._do_not_bind=false;_B._timestamponsnapshots=false;_B._useanalytics=false;_B._useauth=false;_B._usedatabase=false;_B._useperformance=false;_B._usestorage=false;_B._svapidkey="";_B._firebaseconfig={};_B._firebase=null;_B._firebaseapp=null;_B._firestore=null;_B._fb_eq="==";_B._fb_gt=">";_B._fb_ge=">=";_B._fb_lt="<";_B._fb_le="<=";_B._fb_in="in";_B._fb_nin="not-in";_B._fb_contains_any="array-contains-any";_B._fb_contains="array-contains";_B._fb_ne="ne";_B._fb_asc="asc";_B._fb_desc="desc";_B._fb_added="added";_B._fb_modified="modified";_B._fb_removed="removed";_B._storage=null;_B._database=null;_B._performance=null;_B._analytics=null;_B._messaging= new banano_sithasodaisyfirebase_sduifbmessaging();_B._settings={};_B._usemessaging=false;_B._db= new banano_sithasodaisyfirebase_sduifbcollection();_B._auth= new banano_sithasodaisyfirebase_sduifbauth();_B._firesql=null;_B._apikey="";_B._appid="";_B._authdomain="";_B._databaseurl="";_B._enablepersistence=false;_B._measurementid=false;_B._messagingsenderid="";_B._projectid="";_B._storagebucket="";_B._bescapefields=false;_B._inserts=[];_B._isbulk=false;_B._dbtype_indexeddb="indexeddb";_B._dbtype_jrdc="jrdc";_B._dbtype_mssql="mssql";_B._dbtype_mysql="mysql";_B._dbtype_sqlite="sqlite";_B._dbtype_firestore="firestore";_B._dbtype_direct_sqlite="direct_sqlite";_B._dbtype_direct_mysql="direct_mysql";_B._dbtype_direct_mssql="direct_mssql";_B._dbtype_direct_msaccess="direct_msaccess";_B._dbtype_json="json";_B._dbtype_direct_mongodb="direct_mongodb";_B._dbtype_mongodb="mongodb";_B._dbtype_postgres="postgres";_B._dbtype_direct_postgres="direct_postgres";_B._dbtype_msaccess="msaccess";_B._datatypes={};_B._json_ne="<>";_B._json_gt=">";_B._json_lt="<";_B._json_ge=">=";_B._json_le="<=";_B._json_et="==";_B._op_eq="$eq";_B._op_lte="$lte";_B._op_lt="$lt";_B._op_gt="$gt";_B._op_gte="$gte";_B._op_exists="$exists";_B._op_ne="$ne";_B._op_in="$in";_B._op_not_in="$nin";_B._op_size="$size";_B._op_mod="$mod";_B._op_regex="$regex";_B._op_elem_match="$elemMatch";_B._op_typeof="$type";_B._op_all="$all";_B._bencryptto=false;_B._bencryptfrom=false;_B._spasswordfield="";_B._busesencryption=false;_B._lastposition=0;_B._rowcount=0;_B.initialize=function(_callback,_name,_eventname) {_B._bfbconnect=false;_B._do_not_bind=false;_B._mname=_name.toLowerCase();_B._meventname=_eventname.toLowerCase();_B._mcallback=_callback;_B._mode="";_B._mpayload={};_B._settings={};_B._firebaseconfig={};_B._inserts.length=0;_B._multiselect.length=0;_B._isbulk=false;_B._datatypes={};_B._readdatatypes={};_B.create_mode(_B);_B._bencryptto=false;_B._bencryptfrom=false;_B._spasswordfield=false;_B._busesencryption=false;_B._rowcount=0;_B._lastposition=-1;_B._orderbyl.length=0;};_B.clear_parameters=function() {var _BANp = gBANp(arguments);_B._qparameters={};_B._busesparameters=false;};_B.add_parameter_string=function(_value) {_B._qparameters[_value]="s";_B._busesparameters=true;};_B.add_parameter_integer=function(_value) {_B._qparameters[_value]="i";_B._busesparameters=true;};_B.add_parameter_double=function(_value) {_B._qparameters[_value]="d";_B._busesparameters=true;};_B.add_parameter_blob=function(_value) {_B._qparameters[_value]="b";_B._busesparameters=true;};_B.setjrdccommand=function(_p) {_B._sjrdccommand=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".JRDCCommand - '" + _p + "'");}};_B.getjrdccommand=function() {return _B._sjrdccommand;};_B.setusername=function(_p) {_B._susername=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".UserName - '" + _p + "'");}};_B.getusername=function() {return _B._susername;};_B.setport=function(_p) {_B._sport=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".Port - '" + _p + "'");}};_B.getport=function() {return _B._sport;};_B.setdynamic=function(_b) {_b=_banano_sithasodaisy_sduishared.parsebool(_b);_B._bdynamic=_b;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".Dynamic - '" + _b + "'");}};_B.setprimarykey=function(_p) {_B._sprimarykey=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".PrimaryKey - '" + _p + "'");}};_B.setautoincrement=function(_p) {_B._sautoincrement=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".AutoIncremenent - '" + _p + "'");}};_B.getprimarykey=function() {return _B._sprimarykey;};_B.setsingular=function(_p) {_B._ssingular=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".Singular - '" + _p + "'");}};_B.getsingular=function() {return _B._ssingular;};_B.setplural=function(_p) {_B._splural=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".Plural - '" + _p + "'");}};_B.getplural=function() {return _B._splural;};_B.getdisplayfield=function() {return _B._sdisplayfield;};_B.setdisplayfield=function(_p) {_B._sdisplayfield=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".DisplayField - '" + _p + "'");}};_B.getdisplayvalue=function() {var _sdisplayvalue;_sdisplayvalue=_B._record[_B._sdisplayfield]===undefined? "":_B._record[_B._sdisplayfield];_B._sprimarykeyvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];return _sdisplayvalue;};_B.setcustomquery=function(_p) {_B._scustomquery=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".CustomQuery - '" + _p + "'");}};_B.setshowlogs=function(_b) {_B._showlog=_b;};_B.setpassword=function(_p) {_B._spassword=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".Password - '" + _p + "'");}};_B.getpassword=function() {return _B._spassword;};_B.sethostname=function(_p) {_B._shostname=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".HostName - '" + _p + "'");}};_B.setbaseurl=function(_url) {_B._srawbaseurl=_url;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".BaseURL - '" + _url + "'");}};_B.getbaseurl=function() {return _B._srawbaseurl;};_B.gethostname=function() {return _B._shostname;};_B.setdatabasename=function(_p) {_B._sdatabasename=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".DataBase - '" + _p + "'");}};_B.getdatabasename=function() {return _B._sdatabasename;};_B.settablename=function(_p) {_B._stablename=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".TableName - '" + _p + "'");}};_B.gettablename=function() {return _B._stablename;};_B.setrecordsource=function(_p) {_B._srecordsource=_p;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".RecordSource - '" + _p + "'");}};_B.getrecordsource=function() {return _B._srecordsource;};_B.setdatabasetype=function(_dt) {_B._sdatabasetype=_dt;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".DatabaseType - '" + _dt + "'");}};_B.getdatabasetype=function() {return _B._sdatabasetype;};_B.schemabuild=function() {var _fld,_k,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaBuild");}_B._strings.length=0;_B._doubles.length=0;_B._blobs.length=0;_B._integers.length=0;_B._schemadefaultsm={};_B._multiselect.length=0;_B._sdefaults=_B._sdefaults.split("=").join(":");_B._schemadefaults=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sdefaults);_B._schemadefaults=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemadefaults);for (var _fldindex=0;_fldindex<_B._schemadefaults.length;_fldindex++) {_fld=_B._schemadefaults[_fldindex];_k=_banano_sithasodaisy_sduishared.mvfield(_fld,1,":");_v=_banano_sithasodaisy_sduishared.mvfield(_fld,2,":");_k=_k.trim();_k=_k.toLowerCase();_v=_v.trim();if (_k!="") {_B._schemadefaultsm[_k]=_v;}}_B._schemaintegers=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sintegers);_B._schemaintegers=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemaintegers);_B._schemadoubles=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sdoubles);_B._schemadoubles=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemadoubles);_B._schemablobs=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sblobs);_B._schemablobs=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemablobs);_B._schemafields=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sfields);_B._schemafields=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemafields);_B._schemaorderby=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sorderby);_B._schemaorderby=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemaorderby);_B._schemaselectfields=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._sselectfields);_B._schemaselectfields=_banano_sithasodaisy_sduishared.listtrimitems(_B._schemaselectfields);_B._multiselect=_banano_sithasodaisy_sduishared.strparsecomma(";",_B._smultiselect);_B._multiselect=_banano_sithasodaisy_sduishared.listtrimitems(_B._multiselect);for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];if (_B._schemaintegers.indexOf(_fld)>=0) {_B._integers.push(_fld);_B._datatypes[_fld]="INT";continue;}if (_B._schemablobs.indexOf(_fld)>=0) {_B._blobs.push(_fld);_B._datatypes["fld"]="BLOB";continue;}if (_B._schemadoubles.indexOf(_fld)>=0) {_B._doubles.push(_fld);_B._datatypes[_fld]="FLOAT";continue;}_B._strings.push(_fld);_B._datatypes[_fld]="STRING";}};_B.schemareset=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaReset");}_B._tag="";_B._strings.length=0;_B._doubles.length=0;_B._blobs.length=0;_B._integers.length=0;_B._schemadefaultsm={};_B._schemafields.length=0;_B._schemaorderby.length=0;_B._schemaselectfields.length=0;_B._multiselect.length=0;_B._mpayload={};_B._datatypes={};return _B;};_B.add_default=function(_fld,_value) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".AddDefault(" + _fld + "," + _value + ")");}_B._schemadefaultsm[_fld]=_value;return _B;};_B.schemasetfields=function(_flds) {_B._schemafields=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetFields(" + JSON.stringify(_flds) + ")");}};_B.schemasetintegers=function(_flds) {var _fld;_B._integers=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetIntegers(" + JSON.stringify(_flds) + ")");}for (var _fldindex=0;_fldindex<_flds.length;_fldindex++) {_fld=_flds[_fldindex];_B._datatypes[_fld]="INT";}};_B.schemasetmultiselect=function(_flds) {_B._multiselect=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetMultiSelect(" + JSON.stringify(_flds) + ")");}};_B.schemasetstrings=function(_flds) {var _fld;_B._strings=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetStrings(" + JSON.stringify(_flds) + ")");}for (var _fldindex=0;_fldindex<_flds.length;_fldindex++) {_fld=_flds[_fldindex];_B._datatypes[_fld]="STRING";}};_B.schemasetreaddatatypes=function(_flds) {_B._readdatatypes=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetReadDataTypes(" + JSON.stringify(_flds) + ")");}};_B.schemasetdefaults=function(_dm) {var _k,_v;_B._schemadefaultsm={};var _kKeys = Object.keys(_dm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_dm[_k];_B.add_default(_k,_v,_B);}if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetDefaults(" + JSON.stringify(_dm) + ")");}};_B.schemasetdoubles=function(_flds) {var _fld;_B._doubles=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetDoubles(" + JSON.stringify(_flds) + ")");}for (var _fldindex=0;_fldindex<_flds.length;_fldindex++) {_fld=_flds[_fldindex];_B._datatypes[_fld]="FLOAT";}};_B.schemasetblobs=function(_flds) {var _fld;_B._blobs=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetBlobs(" + JSON.stringify(_flds) + ")");}for (var _fldindex=0;_fldindex<_flds.length;_fldindex++) {_fld=_flds[_fldindex];_B._datatypes[_fld]="BLOB";}};_B.schemasetorderby=function(_flds) {_B._schemaorderby=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetOrderBy(" + JSON.stringify(_flds) + ")");}};_B.getsalt=function() {return _B._ssalt;};_B.schemasetselectfields=function(_flds) {_B._schemaselectfields=_flds;if (_B._showlog) {console.log("SDUIDataSource." + _B._mname + ".SchemaSetSelectFields(" + JSON.stringify(_flds) + ")");}};_B.setfield=function(_fldname,_fldvalue) {_B._record[_fldname]=_fldvalue;return _B;};_B.recordfrommap=function(_sm) {var _k,_v;_B._record={};var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_sm[_k];_B._record[_k]=_v;}};_B.setrecord=function(_rec) {var _k,_v;var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_rec[_k];_B.setfield(_k,_v,_B);}};_B.preparerecord=function() {_B._record={};};_B.getimage=function(_fld) {var _simage;_simage=_B.getstring(_fld,_B);if (_simage=="") { return "./assets/placeholderimg.jpg";}return _simage;};_B.movestart=function() {_B._lastposition=-1;};_B.movefirst=function() {_B.setposition(0,_B);};_B.movelast=function() {_B.setposition(_B._rowcount-1,_B);};_B.moveprevious=function() {_B._lastposition=_B._lastposition-1;if (_B._lastposition<0) {_B._lastposition=0;}_B.setposition(_B._lastposition,_B);};_B.movenext=function() {_B._lastposition=_B._lastposition+1;if (_B._lastposition>_B._rowcount) {_B._lastposition=_B._rowcount-1;}_B.setposition(_B._lastposition,_B);};_B.add=function() {_B.defaults(_B);_B.create_mode(_B);};_B.defaults=function() {var _k,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".DEFAULTS");}_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}if (Object.keys(_B._schemadefaultsm).length>=0) {var _kKeys = Object.keys(_B._schemadefaultsm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_B._schemadefaultsm[_k];if (_B._schemafields.indexOf(_k)>=0) {_B._record[_k]=_v;}}}_B.correctdatatypes(_B._record,_B);};_B.setformdata=function() {_banano_sithasodaisy_sduishared.formfromjson(_B._sformname,_B._record);};_B.getfomdata=function() {var _m;_m=_banano_sithasodaisy_sduishared.formtojson(_B._sformname);return _m;};_B.create_or_update=function() {if (_B._mode=="") {throw "The mode is unknown!";return;}if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CREATE_OR_UPDATE");}switch ("" + _B._mode) {case "" + _B._mode_create:_B.create(_B);break;case "" + _B._mode_update:_B.update(_B);break;}};_B.create_bulk=function(_recs) {if (_B._mode=="") {throw "The mode is unknown!";return;}if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CREATE_BULK");}_B._isbulk=true;_B._inserts=_recs;_B.create_mode(_B);_B._tag=_B._action_create_bulk;_B.execute(_B._action_create_bulk,_B);};_B.create_mode=function() {_B._mode=_B._mode_create;};_B.update_mode=function() {_B._mode=_B._mode_update;};_B.read_mode=function() {_B._mode=_B._mode_read;};_B.delete_mode=function() {_B._mode=_B._mode_delete;};_B.clear_form=function() {_B.reset(_B);};_B.reset=function() {var _k;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".RESET");}_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);};_B.move_first=function(_recs) {var _rec;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".MOVEFIRST");}_rec={};if (_recs.length>=1) {_rec=_recs[0];}_B._record=_rec;_B.update_mode(_B);_B.set_record(_rec,_B);};_B.form=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".FORM");}_B.correctdatatypes(_B._record,_B);return _B._record;};_B.read=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".READ");}_B.correctdatatypes(_B._record,_B);_B.read1(_B._record,_B);};_B.create_table=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CREATE_TABLE");}_B._tag=_B._action_create_table;_B.execute(_B._action_create_table,_B);};_B.drop_table=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".DROP_TABLE");}_B._tag=_B._action_drop_table;_B.execute(_B._action_drop_table,_B);};_B.edit_datatable=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".EDIT");}_B.update_mode(_B);_B._record=_rec;_B.set_record(_rec,_B);};_B.edit_update=function(_rec) {_B.edit_datatable(_rec,_B);_B.update(_B);};_B.read1=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".READ1");}_B.update_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_read;_B.execute(_B._action_read,_B);};_B.edit=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".EDIT");}_B.update_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_read;_B.execute(_B._action_read,_B);};_B.edit_dont_read=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".EDIT_DONT_READ");}_B.update_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_read;};_B.create1=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CREATE1");}_B.create_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_create;_B.execute(_B._action_create,_B);};_B.create=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CREATE");}_B.create_mode(_B);_B._tag=_B._action_create;_B.execute(_B._action_create,_B);};_B.delete=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".DELETE");}_B.delete_mode(_B);_B._tag=_B._action_delete;_B.execute(_B._action_delete,_B);};_B.delete_confirm=function(_item) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".DELETE_CONFIRM");}_B.delete_mode(_B);_B.set_record(_item,_B);};_B.delete1=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".DELETE1");}_B.delete_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_delete;_B.execute(_B._action_delete,_B);};_B.update1=function(_rec) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".UPDATE1");}_B.update_mode(_B);_B.set_record(_rec,_B);_B._tag=_B._action_update;_B.execute(_B._action_update,_B);};_B.update=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".UPDATE");}_B.update_mode(_B);_B._tag=_B._action_update;_B.execute(_B._action_update,_B);};_B.undo=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".UNDO");}_B.update_mode(_B);_B._tag=_B._action_undo;_B.execute(_B._action_undo,_B);};_B.firestore_connected=function() {};_B.connect=function() {if (_B._showlog) {console.log("SDUIDataSource.CONNECT");}_B._tag=_B._action_connect;_B.execute(_B._action_connect,_B);};_B.show_databases=function() {if (_B._showlog) {console.log("SDUIDataSource.SHOWDATABASES");}_B._tag=_B._action_showdatabases;_B.execute(_B._action_showdatabases,_B);};_B.show_create_table=function() {if (_B._showlog) {console.log("SDUIDataSource.SHOW_CREATE_TABLE");}_B._tag=_B._action_show_create_table;_B.execute(_B._action_show_create_table,_B);};_B.custom_query=function(_actionname,_strcustomquery) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".CUSTOM");}_B._tag=_actionname;_B._scustomquery=_strcustomquery;_B.execute(_B._action_custom,_B);};_B.table_names=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + ".TABLE_NAMES");}_B._tag=_B._action_tablenames;_B.execute(_B._action_tablenames,_B);};_B.describe_table=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + ".TABLE_NAMES");}_B._tag=_B._action_describetable;_B.execute(_B._action_describetable,_B);};_B.count=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".COUNT");}_B._tag=_B._action_count;_B.execute(_B._action_count,_B);};_B.select_all=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SELECTALL");}_B._tag=_B._action_selectall;_B.execute(_B._action_selectall,_B);};_B.select_where=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SELECTWHERE");}_B._tag=_B._action_selectwhere;_B.execute(_B._action_selectwhere,_B);};_B.exists=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SELECTWHERE");}_B._tag=_B._action_exists;_B.execute(_B._action_exists,_B);};_B.pdf=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".PDF");}_B._tag=_B._action_pdf;_B.execute(_B._action_pdf,_B);};_B.chart=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Chart");}_B._tag=_B._action_chart;_B.execute(_B._action_chart,_B);};_B.excel=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".EXCEL");}_B._tag=_B._action_excel;_B.execute(_B._action_excel,_B);};_B.report=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".REPORT");}_B._tag=_B._action_report;_B.execute(_B._action_report,_B);};_B.execute=async function(_naction) {var _bprun,_subkey;_B._error="";_B._response=_B._result_error;_B._saction=_naction;_B._ok=false;_B._result.length=0;_B._affectedrows=0;_B._error="";_B._lastposition=-1;_B._rowcount=0;switch ("" + _B._sdatabasetype) {case "" + "mongodb":_bprun=null;_bprun=BANanoPromise();_B[("MongoDBExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "couchdb":_bprun=null;_bprun=BANanoPromise();_B[("CouchDBExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "json":_bprun=null;_bprun=BANanoPromise();_B[("JSONExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "indexeddb":_bprun=null;_bprun=BANanoPromise();_B[("AlaSQLExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "php_api":_bprun=null;_bprun=BANanoPromise();_B[("PHPAPI_Execute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "msaccess":_bprun=null;_bprun=BANanoPromise();_B[("MSAccessExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "postgres":_bprun=null;_bprun=BANanoPromise();_B[("PostGresExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "mssql":_bprun=null;_bprun=BANanoPromise();_B[("MSSQLExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "mysql":_bprun=null;_bprun=BANanoPromise();_B[("MySQLExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "sqlite":_bprun=null;_bprun=BANanoPromise();_B[("SQLiteExecute").toLowerCase()](_bprun,_B);await _bprun;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}throw "The callback to trap the result from the query cannot be found! " + _B._mname + "_" + _B._tag + "";break;case "" + "jrdc":_B.jrdcexecute(_B);break;case "" + "direct_sqlite":_B.direct_sqliteexecute(_B);break;case "" + "direct_msaccess":_B.direct_msaccessexecute(_B);break;case "" + "direct_mysql":_B.direct_mysqlexecute(_B);break;case "" + "direct_mssql":_B.direct_mssqlexecute(_B);break;case "" + "direct_mongodb":_B.direct_mongodbexecute(_B);break;case "" + "firestore":_bprun=null;_bprun=BANanoPromise();_B[("FireStoreExecute").toLowerCase()](_bprun,_B);await _bprun;_B._rowcount=_B._affectedrows;_subkey="" + _B._mname + "_" + _B._tag + "";if ((typeof _B._mcallback[(_subkey).toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[(_subkey).toLowerCase()]==="function") {var CSr = _B._mcallback[(_subkey).toLowerCase()](_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();return;}if ((typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_done").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_done").toLowerCase()](_B._tag,_B._ok,_B._response,_B._error,_B._affectedrows,_B._result,_B);if(CSr!=null) {return CSr}}})();}break;}};_B.getjrdcpayload=function() {return _B._mpayload;};_B.clear_where=function() {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".ClearWhere");}_B._cw={};_B._ops.length=0;_B._orderbyl.length=0;_B._flds1.length=0;return _B;};_B.add_where_map=function(_fw) {var _k,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".AddWhereMap");}_B.clear_where(_B);var _kKeys = Object.keys(_fw);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_fw[_k];_B.add_where(_k,"=",_v,_B);}return _B;};_B.add_where=function(_fld,_operator,_value) {if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".AddWhere");}_B._cw[_fld]=_value;_B._ops.push(_operator);return _B;};_B.mysqlexecute=async function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_rec,_pkvalue,_k,_atot,_acnt,_v,_dblist,_sdatabase,_tblnames,_stable_name,_fldnames,_sauto,_spri,_fldm,_newfld,_sdefault,_sextra,_sfield,_skey,_snull,_stype,_fldlen,_fldtype,_srecord;_B._isbulk=false;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".MySQLExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisymysqle_sduimysqle();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql._encryptfrom=_B._bencryptfrom;_mysql._encryptto=_B._bencryptto;_mysql._salt=_B._ssalt;_mysql.setusesencryption(_B._busesencryption);if (_B._bdynamic) {_mysql.setconnection(_B._shostname,_B._susername,_B._spassword);}_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_showdatabases:_mysql.getdatabases();break;case "" + _B._action_connect:_mysql.connection();break;case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_create_bulk:_B._isbulk=true;for (var _recindex=0;_recindex<_B._inserts.length;_recindex++) {_rec=_B._inserts[_recindex];_B.correctdatatypessave(_rec,_BANp,_B);if (_B._sautoincrement!="") {delete _rec[_B._sautoincrement];}_mysql.insert1(_rec);if (_B._bdynamic==false) {_B._mpayload=_mysql.build();_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodname, "params": _B._mpayload}),false,null);_mysql.fromjson();} else {_B._mpayload=_mysql.builddynamic(true);_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodnamedynamic, "params": _B._mpayload}),false,null);_mysql.fromjson();}}break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._isbulk==false) {if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);console.log(_mysql._types);}if (_B._bdynamic==false) {_B._mpayload=_mysql.build();if (_B._bencryptto==false) {_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodname, "params": _B._mpayload}),false,null);} else {_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": "SDUIMySQLED", "params": _B._mpayload}),false,null);}} else {_B._mpayload=_mysql.builddynamic(true);_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodnamedynamic, "params": _B._mpayload}),false,null);}if (_B._showlog) {console.log("Payload to execute...");console.log(_B._mpayload);}_mysql.fromjson();}_B.clear_parameters(_BANp,_B);switch ("" + _B._saction) {case "" + _B._action_showdatabases:_dblist=[];_dblist.length=0;for (var _recindex=0;_recindex<_mysql._result.length;_recindex++) {_rec=_mysql._result[_recindex];_sdatabase=_rec["Database"]===undefined? "":_rec["Database"];if (_sdatabase!="") {_dblist.push(_sdatabase);}}_mysql._result=_dblist;_mysql._affectedrows=_dblist.length;break;case "" + _B._action_tablenames:_tblnames=[];_tblnames.length=0;for (var _recindex=0;_recindex<_mysql._result.length;_recindex++) {_rec=_mysql._result[_recindex];_stable_name=_rec["table_name"]===undefined? "":_rec["table_name"];_stable_name=_stable_name.trim();if (_stable_name!="") {_tblnames.push(_stable_name);}}_mysql._result=_tblnames;_mysql._affectedrows=_tblnames.length;break;case "" + _B._action_describetable:_B._td.initialize();_B._td._tablename=_B._stablename;_B._td._primarykey="";_B._td._autoincrement="";_B._td._booleans.length=0;_B._td._strings.length=0;_B._td._doubles.length=0;_B._td._blobs.length=0;_B._td._integers.length=0;_B._td._tinyints.length=0;_B._td._fields.length=0;_B._td._sorts.length=0;_B._td._fieldnames.length=0;_fldnames=[];_fldnames.length=0;_sauto="";_spri="";for (var _fldmindex=0;_fldmindex<_mysql._result.length;_fldmindex++) {_fldm=_mysql._result[_fldmindex];_newfld={};_sdefault=_fldm["Default"]===undefined? "":_fldm["Default"];_sextra=_fldm["Extra"]===undefined? "":_fldm["Extra"];_sfield=_fldm["Field"]===undefined? "":_fldm["Field"];_skey=_fldm["Key"]===undefined? "":_fldm["Key"];_snull=_fldm["Null"]===undefined? "":_fldm["Null"];_stype=_fldm["Type"]===undefined? "":_fldm["Type"];if (_snull=="NO") {_snull="No";}if (_snull=="YES") {_snull="Yes";}_B._td._fieldnames.push(_sfield.toLowerCase());_sdefault=_banano_sithasodaisy_sduishared.cstr(_sdefault);_sfield=_banano_sithasodaisy_sduishared.cstr(_sfield);_skey=_banano_sithasodaisy_sduishared.cstr(_skey);_snull=_banano_sithasodaisy_sduishared.cstr(_snull);_stype=_banano_sithasodaisy_sduishared.cstr(_stype);_sextra=_banano_sithasodaisy_sduishared.cstr(_sextra);if (_sextra.equalsIgnoreCase("auto_increment")) {_sauto=_sfield;_B._td._autoincrement=_sauto;}if (_skey.equalsIgnoreCase("pri")) {_spri=_sfield;_B._td._primarykey=_spri;}_fldlen=_banano_sithasodaisy_sduishared.val(_stype);_fldtype=_banano_sithasodaisy_sduishared.alpha(_stype);_newfld["defaultvalue"]=_sdefault;_newfld["fieldname"]=_sfield;_newfld["fieldtype"]=_fldtype;_newfld["fieldlen"]=_fldlen;_newfld["acceptnull"]=_snull;_newfld["title"]=_sfield;_newfld["ontable"]="Yes";_newfld["onpdf"]="Yes";_newfld["onxls"]="Yes";if (_spri.equalsIgnoreCase(_sfield)) {_newfld["pri"]="Yes";_newfld["sortdb"]="Yes";_B._td._sorts.push(_sfield.toLowerCase());} else {_newfld["pri"]="No";}if (_sauto.equalsIgnoreCase(_sfield)) {_newfld["ai"]="Yes";} else {_newfld["ai"]="No";}_newfld["fieldkey"]="" + _B._stablename + "." + _sfield + "";_fldnames.push(_newfld);_B._td._fields.push(_newfld);switch ("" + _fldtype) {case "" + "blob":_B._td._blobs.push(_sfield.toLowerCase());break;case "" + "varchar":case "" + "date":case "" + "longtext":_B._td._strings.push(_sfield.toLowerCase());break;case "" + "bigint":case "" + "int":_B._td._integers.push(_sfield.toLowerCase());break;case "" + "tinyint":_B._td._integers.push(_sfield.toLowerCase());_B._td._tinyints.push(_sfield.toLowerCase());break;default:_B._td._strings.push(_sfield.toLowerCase());break;}}_mysql._result=_fldnames;_mysql._affectedrows=_fldnames.length;break;}if (_B._isbulk==false) {_B._response=_mysql._response;_B._error=_mysql._error;_B._affectedrows=_mysql._affectedrows;_B._result=_mysql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}_B._ok=_mysql._ok;if (_B._showlog) {console.log("Response: "+_B._response);console.log("Error: "+_B._error);console.log("AffectedRows: "+_B._affectedrows);console.log("Ok: "+_B._ok);console.log("Result...");window.console.table(_B._result, null);}if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}} else {_B._response=_B._result_success;_B._error="";_B._affectedrows=0;_B._result.length=0;_B._ok=true;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.show_first_record=function() {_B._record=_B.get_first_record(_B);_B.set_record(_B._record,_B);};_B.get_first_record=function() {var _fr;_fr=_B._result[0];_B.correctdatatypes(_B._record,_B);return _fr;};_B.setkey=function(_keyvalue) {_B._sprimarykey=_keyvalue;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SetKey." + _keyvalue + "");}};_B.set_record=function(_rec) {var _k,_v,_rlist,_dt;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SETRECORD." + JSON.stringify(_rec) + "");}for (var _kindex=0;_kindex<_B._multiselect.length;_kindex++) {_k=_B._multiselect[_kindex];_v=_rec[_k];if (is.null(_v)) {_v="";}if (is.string(_v)) {_rlist=_banano_sithasodaisy_sduishared.strparse(",",_v);_dt=_B._readdatatypes[_k];switch ("" + _dt) {case "" + "integer":case "" + "int":_rlist=_banano_sithasodaisy_sduishared.cintlist(_rlist);break;case "" + "float":case "" + "double":_rlist=_banano_sithasodaisy_sduishared.cdbllist(_rlist);break;default:_rlist=_banano_sithasodaisy_sduishared.cstrlist(_rlist);break;}_rec[_k]=_rlist;continue;}if (is.array(_v)) {_dt=_B._readdatatypes[_k];switch ("" + _dt) {case "" + "int":case "" + "integer":_v=_banano_sithasodaisy_sduishared.cintlist(_v);break;case "" + "float":case "" + "double":_v=_banano_sithasodaisy_sduishared.cdbllist(_v);break;default:_v=_banano_sithasodaisy_sduishared.cstrlist(_v);break;}_rec[_k]=_v;continue;}}_B._record=_rec;};_B.verify=function() {_B.correctdatatypes(_B._record,_B);};_B.isnan=function(_obj) {var _BANp = gBANp(arguments);var _res;_res=window["isNaN"](_obj);return _res;};_B.correctdatatypes=function(_rec) {var _BANp = gBANp(arguments);var _fld,_v,_k,_fldpos;for (var _fldindex=0;_fldindex<_B._integers.length;_fldindex++) {_fld=_B._integers[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {continue;}_v=_rec[_fld]===undefined? 0:_rec[_fld];if (is.boolean(_v)) {_v=_banano_sithasodaisy_sduishared.parsebool(_v);if (_v==true) {_rec[_fld]=1;} else {_rec[_fld]=0;}} else {if (is.null(_v) || is.undefined(_v)) {_v=0;}_v=parseInt(_v);if (_B.isnan(_v,_BANp,_B)) {_v=0;}_rec[_fld]=_v;}}for (var _fldindex=0;_fldindex<_B._doubles.length;_fldindex++) {_fld=_B._doubles[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {continue;}_v=_rec[_fld]===undefined? 0:_rec[_fld];if (is.null(_v) || is.undefined(_v)) {_v=0;}_v=parseFloat(_v);if (_B.isnan(_v,_BANp,_B)) {_v=0;}_rec[_fld]=_v;}for (var _fldindex=0;_fldindex<_B._strings.length;_fldindex++) {_fld=_B._strings[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {continue;}_v=_rec[_fld]===undefined? "":_rec[_fld];if (is.null(_v) || is.undefined(_v)) {_v="";}_v=_banano_sithasodaisy_sduishared.cstr(_v);_rec[_fld]=_v;}var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_fldpos=_B._schemafields.indexOf(_k);if (_fldpos==-1) {delete _rec[_k];}}};_B.correctdatatypessave=function(_rec) {var _BANp = gBANp(arguments);var _fld,_c,_a,_b,_v,_k,_fldpos;for (var _fldindex=0;_fldindex<_B._integers.length;_fldindex++) {_fld=_B._integers[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {if ((_fld in _rec)) {_c=[];_c.length=0;_a=_rec[_fld]===undefined? _c:_rec[_fld];_b=_banano_sithasodaisy_sduishared.join(",",_a);_rec[_fld]=_b;}continue;}_v=_rec[_fld]===undefined? 0:_rec[_fld];if (is.boolean(_v)) {_v=_banano_sithasodaisy_sduishared.parsebool(_v);if (_v==true) {_rec[_fld]=1;} else {_rec[_fld]=0;}} else {if (is.null(_v) || is.undefined(_v)) {_v=0;}_v=parseInt(_v);if (_B.isnan(_v,_BANp,_B)) {_v=0;}_rec[_fld]=_v;}}for (var _fldindex=0;_fldindex<_B._doubles.length;_fldindex++) {_fld=_B._doubles[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {if ((_fld in _rec)) {_c=[];_c.length=0;_a=_rec[_fld]===undefined? _c:_rec[_fld];_b=_banano_sithasodaisy_sduishared.join(",",_a);_rec[_fld]=_b;}continue;}_v=_rec[_fld]===undefined? 0:_rec[_fld];if (is.null(_v) || is.undefined(_v)) {_v=0;}_v=parseFloat(_v);if (_B.isnan(_v,_BANp,_B)) {_v=0;}_rec[_fld]=_v;}for (var _fldindex=0;_fldindex<_B._strings.length;_fldindex++) {_fld=_B._strings[_fldindex];if (_B._multiselect.indexOf(_fld)>=0) {if ((_fld in _rec)) {_c=[];_c.length=0;_a=_rec[_fld]===undefined? _c:_rec[_fld];_b=_banano_sithasodaisy_sduishared.join(",",_a);_rec[_fld]=_b;}continue;}_v=_rec[_fld]===undefined? "":_rec[_fld];if (is.null(_v) || is.undefined(_v)) {_v="";}_v=_banano_sithasodaisy_sduishared.cstr(_v);_rec[_fld]=_v;}var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_fldpos=_B._schemafields.indexOf(_k);if (_fldpos==-1) {delete _rec[_k];}}};_B.getid=function() {return _B._mname;};_B.gethere=function() {return "#" + _B._mname + "";};_B.jrdcexecute=function() {var _BANp = gBANp(arguments);var _mysql,_nr,_fld,_value,_pkvalue,_k,_atot,_acnt,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".JRDCExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisymysqle_sduimysqle();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql._usesjrdc=true;if (_B._bdynamic) {_mysql.setconnection(_B._shostname,_B._susername,_B._spassword);}_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);if (_B._sautoincrement!="") {_B._record[_B._sautoincrement]=null;}_mysql.insert1(_B._record);break;case "" + _B._action_read:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_mysql.gettablenames();break;case "" + _B._action_describetable:_mysql.describetable();break;case "" + _B._action_count:_mysql.getcount();break;case "" + _B._action_getmax:_mysql.getmax();break;case "" + _B._action_getmin:_mysql.getmin();break;case "" + _B._action_sumof:_mysql.getsum();break;case "" + _B._action_custom:if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}if (_B._bdynamic==false) {_B._mpayload=_mysql.build();} else {_B._mpayload=_mysql.builddynamic(true);}_B._mpayload["jrdccommand"]=_B._sjrdccommand;};_B.direct_sqliteexecute=function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_pkvalue,_k,_atot,_acnt,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Direct_SQLiteExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisysqlitee_sduisqlitee();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_B._mpayload=_mysql.builddirect();if (_B._showlog) {console.log("payload...");console.log(_B._mpayload);}};_B.direct_msaccessexecute=function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_pkvalue,_k,_atot,_acnt,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Direct_MSACCESSExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisysqlitee_sduisqlitee();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql.setconnection(_B._susername,_B._spassword);_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_B._mpayload=_mysql.builddirect();if (_B._showlog) {console.log("payload...");console.log(_B._mpayload);}};_B.sqliteexecute=async function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_rec,_pkvalue,_k,_atot,_acnt,_v,_tblnames,_stable_name,_fldnames,_sauto,_spri,_fldm,_newfld,_sdefault,_sextra,_sfield,_skey,_snull,_stype,_fldlen,_fldtype,_srecord;_B._isbulk=false;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".SQLiteExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisysqlitee_sduisqlitee();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_create_bulk:_B._isbulk=true;for (var _recindex=0;_recindex<_B._inserts.length;_recindex++) {_rec=_B._inserts[_recindex];_B.correctdatatypes(_rec,_BANp,_B);if (_B._sautoincrement!="") {delete _rec[_B._sautoincrement];}_mysql.insert1(_rec);_B._mpayload=_mysql.build();_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodname, "params": _B._mpayload}),false,null);_mysql.fromjson();}break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._isbulk==false) {if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_B._mpayload=_mysql.build();_mysql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mysql._methodname, "params": _B._mpayload}),false,null);if (_B._showlog) {console.log("Payload to execute...");console.log(_B._mpayload);}_mysql.fromjson();}switch ("" + _B._saction) {case "" + _B._action_tablenames:_tblnames=[];_tblnames.length=0;for (var _recindex=0;_recindex<_mysql._result.length;_recindex++) {_rec=_mysql._result[_recindex];_stable_name=_rec["name"]===undefined? "":_rec["name"];_stable_name=_stable_name.trim();if (_stable_name!="") {_tblnames.push(_stable_name);}}_mysql._result=_tblnames;_mysql._affectedrows=_tblnames.length;break;case "" + _B._action_describetable:_B._td.initialize();_B._td._tablename=_B._stablename;_B._td._primarykey="";_B._td._autoincrement="";_B._td._booleans.length=0;_B._td._strings.length=0;_B._td._doubles.length=0;_B._td._blobs.length=0;_B._td._integers.length=0;_B._td._tinyints.length=0;_B._td._fields.length=0;_B._td._sorts.length=0;_B._td._fieldnames.length=0;_fldnames=[];_fldnames.length=0;_sauto="";_spri="";for (var _fldmindex=0;_fldmindex<_mysql._result.length;_fldmindex++) {_fldm=_mysql._result[_fldmindex];_newfld={};_sdefault=_fldm["Default"]===undefined? "":_fldm["Default"];_sextra=_fldm["Extra"]===undefined? "":_fldm["Extra"];_sfield=_fldm["Field"]===undefined? "":_fldm["Field"];_skey=_fldm["Key"]===undefined? "":_fldm["Key"];_snull=_fldm["Null"]===undefined? "":_fldm["Null"];_stype=_fldm["Type"]===undefined? "":_fldm["Type"];if (_snull=="NO") {_snull="No";}if (_snull=="YES") {_snull="Yes";}_B._td._fieldnames.push(_sfield.toLowerCase());_sdefault=_banano_sithasodaisy_sduishared.cstr(_sdefault);_sfield=_banano_sithasodaisy_sduishared.cstr(_sfield);_skey=_banano_sithasodaisy_sduishared.cstr(_skey);_snull=_banano_sithasodaisy_sduishared.cstr(_snull);_stype=_banano_sithasodaisy_sduishared.cstr(_stype);_sextra=_banano_sithasodaisy_sduishared.cstr(_sextra);if (_sextra.equalsIgnoreCase("auto_increment")) {_sauto=_sfield;_B._td._autoincrement=_sauto;}if (_skey.equalsIgnoreCase("pri")) {_spri=_sfield;_B._td._primarykey=_spri;}_fldlen=_banano_sithasodaisy_sduishared.val(_stype);_fldtype=_banano_sithasodaisy_sduishared.alpha(_stype);_newfld["defaultvalue"]=_sdefault;_newfld["fieldname"]=_sfield;_newfld["fieldtype"]=_fldtype;_newfld["fieldlen"]=_fldlen;_newfld["acceptnull"]=_snull;_newfld["title"]=_sfield;_newfld["ontable"]="Yes";_newfld["onpdf"]="Yes";_newfld["onxls"]="Yes";if (_spri.equalsIgnoreCase(_sfield)) {_newfld["pri"]="Yes";_newfld["sortdb"]="Yes";_B._td._sorts.push(_sfield.toLowerCase());} else {_newfld["pri"]="No";}if (_sauto.equalsIgnoreCase(_sfield)) {_newfld["ai"]="Yes";} else {_newfld["ai"]="No";}_newfld["fieldkey"]="" + _B._stablename + "." + _sfield + "";_fldnames.push(_newfld);_B._td._fields.push(_newfld);switch ("" + _fldtype) {case "" + "blob":_B._td._blobs.push(_sfield.toLowerCase());break;case "" + "varchar":case "" + "date":case "" + "longtext":_B._td._strings.push(_sfield.toLowerCase());break;case "" + "bigint":case "" + "int":_B._td._integers.push(_sfield.toLowerCase());break;case "" + "tinyint":_B._td._integers.push(_sfield.toLowerCase());_B._td._tinyints.push(_sfield.toLowerCase());break;default:_B._td._strings.push(_sfield.toLowerCase());break;}}_mysql._result=_fldnames;_mysql._affectedrows=_fldnames.length;break;}if (_B._isbulk==false) {_B._response=_mysql._response;_B._error=_mysql._error;_B._affectedrows=_mysql._affectedrows;_B._result=_mysql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}_B._ok=_mysql._ok;if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}} else {_B._response=_B._result_success;_B._error="";_B._affectedrows=0;_B._result.length=0;_B._ok=true;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.alasqlexecute=async function() {var _BANp = gBANp(arguments);var _dbname,_dbala,_mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_nid,_pkvalue,_k,_atot,_acnt,_v,_tblnames,_rec,_stable_name,_dblist,_sdatabase,_srecord;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".AlaSQLExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_dbname=_B._sdatabasename;_dbala=null;_dbala_dbname=_dbname;await BananoSQLOpen(_dbname);_mysql= new banano_sithasodaisyalasqle_sduialasqle();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql._usebrackets=_B._bescapefields;_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_showdatabases:_mysql.getdatabases();break;case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {_nid=BANGenerateUniqueID();_B._record[_B._sautoincrement]=_nid;}_mysql.insert1(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;break;case "" + _B._action_show_create_table:_bselect=true;_mysql.showcreatetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_mysql._result=await BananoSQLRunExecute(_mysql._query, _mysql._args,_dbala_dbname);_mysql.fromjson();_B._response=_mysql._response;_B._error=_mysql._error;_B._ok=_mysql._ok;switch ("" + _B._saction) {case "" + _B._action_tablenames:_tblnames=[];_tblnames.length=0;for (var _recindex=0;_recindex<_mysql._result.length;_recindex++) {_rec=_mysql._result[_recindex];_stable_name=_rec["tableid"]===undefined? "":_rec["tableid"];_stable_name=_stable_name.trim();if (_stable_name!="") {_tblnames.push(_stable_name);}}_mysql._result=_tblnames;_mysql._affectedrows=_tblnames.length;break;case "" + _B._action_showdatabases:_dblist=[];_dblist.length=0;for (var _recindex=0;_recindex<_mysql._result.length;_recindex++) {_rec=_mysql._result[_recindex];_sdatabase=_rec["databaseid"]===undefined? "":_rec["databaseid"];if (_sdatabase!="") {_dblist.push(_sdatabase);}}_mysql._result=_dblist;_mysql._affectedrows=_dblist.length;break;}_B._affectedrows=_mysql._affectedrows;_B._result=_mysql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.mssqlexecute=async function() {var _BANp = gBANp(arguments);var _mssql,_bread,_bselect,_bcount,_nr,_fld,_value,_rec,_pkvalue,_k,_atot,_acnt,_v,_dblist,_sdatabase,_tblnames,_stable_name,_fldnames,_sauto,_spri,_fldm,_newfld,_sdefault,_sextra,_sfield,_skey,_snull,_stype,_fldlen,_fldtype,_srecord;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".MSSQLExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mssql= new banano_sithasodaisymssqle_sduimssqle();_mssql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mssql._usebrackets=_B._bescapefields;if (_B._bdynamic) {_mssql.setconnection(_B._shostname,_B._susername,_B._spassword);}_mssql.schemaclear();_mssql.schemaaddblob(_B._blobs);_mssql.schemaadddouble(_B._doubles);_mssql.schemaaddint(_B._integers);_mssql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_showdatabases:_mssql.getdatabases();break;case "" + _B._action_connect:_mssql.connection();break;case "" + _B._action_drop_table:break;case "" + _B._action_create_table:_mssql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mssql.insert1(_B._record);break;case "" + _B._action_create_bulk:_B._isbulk=true;for (var _recindex=0;_recindex<_B._inserts.length;_recindex++) {_rec=_B._inserts[_recindex];_B.correctdatatypes(_rec,_BANp,_B);if (_B._sautoincrement!="") {delete _rec[_B._sautoincrement];}_mssql.insert1(_rec);if (_B._bdynamic==false) {_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);_mssql.fromjson();} else {_B._mpayload=_mssql.builddynamic();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodnamedynamic, "params": _B._mpayload}),false,null);_mssql.fromjson();}}break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mssql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mssql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mssql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mssql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mssql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mssql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mssql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mssql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mssql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mssql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mssql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mssql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mssql._args.push(_k);_mssql._types.push(_v);}}_mssql.execute(_B._scustomquery);break;}if (_B._isbulk==false) {if (_B._showlog) {console.log(_mssql._query);console.log(_mssql._args);}if (_B._bdynamic==false) {_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);} else {_B._mpayload=_mssql.builddynamic();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodnamedynamic, "params": _B._mpayload}),false,null);}if (_B._showlog) {console.log("Payload to execute...");console.log(_B._mpayload);}_mssql.fromjson();}switch ("" + _B._saction) {case "" + _B._action_showdatabases:_dblist=[];_dblist.length=0;for (var _recindex=0;_recindex<_mssql._result.length;_recindex++) {_rec=_mssql._result[_recindex];_sdatabase=_rec["Database"]===undefined? "":_rec["Database"];if (_sdatabase!="") {_dblist.push(_sdatabase);}}_mssql._result=_dblist;_mssql._affectedrows=_dblist.length;break;case "" + _B._action_tablenames:_tblnames=[];_tblnames.length=0;for (var _recindex=0;_recindex<_mssql._result.length;_recindex++) {_rec=_mssql._result[_recindex];_stable_name=_rec["table_name"]===undefined? "":_rec["table_name"];_stable_name=_stable_name.trim();if (_stable_name!="") {_tblnames.push(_stable_name);}}_mssql._result=_tblnames;_mssql._affectedrows=_tblnames.length;break;case "" + _B._action_describetable:_B._td.initialize();_B._td._tablename=_B._stablename;_B._td._primarykey="";_B._td._autoincrement="";_B._td._booleans.length=0;_B._td._strings.length=0;_B._td._doubles.length=0;_B._td._blobs.length=0;_B._td._integers.length=0;_B._td._tinyints.length=0;_B._td._fields.length=0;_B._td._sorts.length=0;_B._td._fieldnames.length=0;_fldnames=[];_fldnames.length=0;_sauto="";_spri="";for (var _fldmindex=0;_fldmindex<_mssql._result.length;_fldmindex++) {_fldm=_mssql._result[_fldmindex];_newfld={};_sdefault=_fldm["Default"]===undefined? "":_fldm["Default"];_sextra=_fldm["Extra"]===undefined? "":_fldm["Extra"];_sfield=_fldm["Field"]===undefined? "":_fldm["Field"];_skey=_fldm["Key"]===undefined? "":_fldm["Key"];_snull=_fldm["Null"]===undefined? "":_fldm["Null"];_stype=_fldm["Type"]===undefined? "":_fldm["Type"];if (_snull=="NO") {_snull="No";}if (_snull=="YES") {_snull="Yes";}_B._td._fieldnames.push(_sfield.toLowerCase());_sdefault=_banano_sithasodaisy_sduishared.cstr(_sdefault);_sfield=_banano_sithasodaisy_sduishared.cstr(_sfield);_skey=_banano_sithasodaisy_sduishared.cstr(_skey);_snull=_banano_sithasodaisy_sduishared.cstr(_snull);_stype=_banano_sithasodaisy_sduishared.cstr(_stype);_sextra=_banano_sithasodaisy_sduishared.cstr(_sextra);if (_sextra.equalsIgnoreCase("auto_increment")) {_sauto=_sfield;_B._td._autoincrement=_sauto;}if (_skey.equalsIgnoreCase("pri")) {_spri=_sfield;_B._td._primarykey=_spri;}_fldlen=_banano_sithasodaisy_sduishared.val(_stype);_fldtype=_banano_sithasodaisy_sduishared.alpha(_stype);_newfld["defaultvalue"]=_sdefault;_newfld["fieldname"]=_sfield;_newfld["fieldtype"]=_fldtype;_newfld["fieldlen"]=_fldlen;_newfld["acceptnull"]=_snull;_newfld["title"]=_sfield;_newfld["ontable"]="Yes";_newfld["onpdf"]="Yes";_newfld["onxls"]="Yes";if (_spri.equalsIgnoreCase(_sfield)) {_newfld["pri"]="Yes";_newfld["sortdb"]="Yes";_B._td._sorts.push(_sfield.toLowerCase());} else {_newfld["pri"]="No";}if (_sauto.equalsIgnoreCase(_sfield)) {_newfld["ai"]="Yes";} else {_newfld["ai"]="No";}_newfld["fieldkey"]="" + _B._stablename + "." + _sfield + "";_fldnames.push(_newfld);_B._td._fields.push(_newfld);switch ("" + _fldtype) {case "" + "blob":_B._td._blobs.push(_sfield.toLowerCase());break;case "" + "varchar":case "" + "date":case "" + "longtext":_B._td._strings.push(_sfield.toLowerCase());break;case "" + "bigint":case "" + "int":_B._td._integers.push(_sfield.toLowerCase());break;case "" + "tinyint":_B._td._integers.push(_sfield.toLowerCase());_B._td._tinyints.push(_sfield.toLowerCase());break;default:_B._td._strings.push(_sfield.toLowerCase());break;}}_mssql._result=_fldnames;_mssql._affectedrows=_fldnames.length;break;}if (_B._isbulk==false) {_B._response=_mssql._response;_B._error=_mssql._error;_B._affectedrows=_mssql._affectedrows;_B._result=_mssql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}_B._ok=_mssql._ok;if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}} else {_B._response=_B._result_success;_B._error="";_B._affectedrows=0;_B._result.length=0;_B._ok=true;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.postgresexecute=async function() {var _BANp = gBANp(arguments);var _mssql,_bread,_bselect,_bcount,_nr,_fld,_value,_rec,_pkvalue,_k,_atot,_acnt,_v,_srecord;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".PostGresExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mssql= new banano_sithasodaisypostgres_sduipostgres();_mssql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mssql._usebrackets=false;if (_B._bdynamic) {_mssql.setconnection1(_B._shostname,_B._susername,_B._spassword,_B._sport);}_mssql.schemaclear();_mssql.schemaaddblob(_B._blobs);_mssql.schemaadddouble(_B._doubles);_mssql.schemaaddint(_B._integers);_mssql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mssql.insert1(_B._record);break;case "" + _B._action_create_bulk:_B._isbulk=true;for (var _recindex=0;_recindex<_B._inserts.length;_recindex++) {_rec=_B._inserts[_recindex];_B.correctdatatypes(_rec,_BANp,_B);if (_B._sautoincrement!="") {delete _rec[_B._sautoincrement];}_mssql.insert1(_rec);if (_B._bdynamic==false) {_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);_mssql.fromjson();} else {_B._mpayload=_mssql.builddynamic();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodnamedynamic, "params": _B._mpayload}),false,null);_mssql.fromjson();}}break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mssql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mssql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mssql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mssql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mssql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mssql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;break;case "" + _B._action_describetable:_bselect=true;break;case "" + _B._action_count:_bcount=true;_bselect=true;break;case "" + _B._action_getmax:_bselect=true;break;case "" + _B._action_getmin:_bselect=true;break;case "" + _B._action_sumof:_bselect=true;break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mssql._args.push(_k);_mssql._types.push(_v);}}_mssql.execute(_B._scustomquery);break;}if (_B._isbulk==false) {if (_B._showlog) {console.log(_mssql._query);console.log(_mssql._args);}if (_B._bdynamic==false) {_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);} else {_B._mpayload=_mssql.builddynamic();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodnamedynamic, "params": _B._mpayload}),false,null);}if (_B._showlog) {console.log("Payload to execute...");console.log(_B._mpayload);}_mssql.fromjson();}if (_B._isbulk==false) {_B._response=_mssql._response;_B._error=_mssql._error;_B._affectedrows=_mssql._affectedrows;_B._result=_mssql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}_B._ok=_mssql._ok;if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}} else {_B._response=_B._result_success;_B._error="";_B._affectedrows=0;_B._result.length=0;_B._ok=true;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.onexecution=function() {};_B.ondone=function() {};_B.iscreate=function() {if (_B._mode==_B._mode_create) { return true;}return false;};_B.isupdate=function() {if (_B._mode==_B._mode_update) { return true;}return false;};_B.isdelete=function() {if (_B._mode==_B._mode_delete) { return true;}return false;};_B.authenticateuser=function() {};_B.getuserbyusername=function() {};_B.setjrdc_insert=function(_s) {_B._sjrdcinsert=_s;};_B.setjrdc_update=function(_s) {_B._sjrdcupdate=_s;};_B.setjrdc_delete=function(_s) {_B._sjrdcdelete=_s;};_B.setjrdc_select=function(_s) {_B._sjrdcselect=_s;};_B.setjrdc_read=function(_s) {_B._sjrdcread=_s;};_B.setjrdc_select_where=function(_s) {_B._sjrdcselectwhere=_s;};_B.setjrdc_exists=function(_s) {_B._sjrdcexists=_s;};_B.setjrdc_select_where_custom=function(_s) {_B._sjrdcselectwherecustom=_s;};_B.firestore_connect=async function() {var _apps,_bconnect;_B._bfbconnect=true;if (_B._showlog) {console.log("SDUIDataSource." + _B._stablename + ".Connect");}_B._firebase=firebase;_B._firebaseconfig=eval("firebaseConfig");_B._settings={};if (_B.isconnected(_B)==false) {_B._firebaseapp=_B._firebase["initializeApp"](_B._firebaseconfig);} else {_apps=_B._firebase["apps"];_B._firebaseapp=_apps[0];}if (_B._usedatabase) {_B._database=_B._firebase["database"]();}if (_B._usefirestore) {_B._settings["timestampsInSnapshots"]=_B._timestamponsnapshots;_B._firestore=_B._firebaseapp["firestore"]();_B._firestore["settings"]=_B._settings;}if (_B._usemessaging) {if (_B._messagingsenderid!="") {_B._messaging.initialize(_B._firebase,_B._svapidkey,_B._apikey);}}if (_B._useanalytics) {_B._analytics=_B._firebase["analytics"]();}if (_B._useperformance) {_B._performance=_B._firebase["performance"]();}if (_B._usestorage) {_B._storage=_B._firebase["storage"]();}if (_B._useauth) {_B._auth.initialize(_B._firebaseapp);_B._auth.onauthstatechanged(_B,"onAuthStateChanged");}_bconnect=_B.isconnected(_B);if (_B._enablepersistence) {await _B.enablepersistencecb(_B);}if ((typeof _B._mcallback[("" + _B._mname + "_connected").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_connected").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_connected").toLowerCase()](_bconnect,_B);if(CSr!=null) {return CSr}}})();} else {window.console.warn("SDUIDataSource." + _B._mname + " Connected event does not exist!");}};_B.onauthstatechanged=function(_user) {var _isauthenticated,_usr;_isauthenticated=false;_usr={};if (is.null(_user) || is.undefined(_user)) {_isauthenticated=false;} else {_isauthenticated=true;_usr=_B._auth.getuserdata(_user);}_usr["authenticated"]=_isauthenticated;if ((typeof _B._mcallback[("" + _B._mname + "_onAuthStateChanged").toLowerCase()]==="function")) {(function() {if (typeof _B._mcallback[("" + _B._mname + "_onAuthStateChanged").toLowerCase()]==="function") {var CSr = _B._mcallback[("" + _B._mname + "_onAuthStateChanged").toLowerCase()](_usr,_B);if(CSr!=null) {return CSr}}})();} else {window.console.warn("" + _B._mname + "_onAuthStateChanged does not exist!");}};_B.isconnected=function() {var _apps;if (_B._showlog) {console.log("SDUIDataSource." + _B._stablename + ".IsConnected");}_apps=_B._firebase["apps"];if (_apps.length==0) {return false;} else {return true;}};_B.enablepersistencecb=function() {var _synchronizetabs,_booffline;if (_B._showlog) {console.log("SDUIDataSource." + _B._stablename + ".enablePersistence");}_synchronizetabs={"synchronizeTabs":true};_booffline=_B._firestore["enablePersistence"](_synchronizetabs);return _booffline;};_B.disablenetwork=function() {var _booffline;if (_B._showlog) {console.log("SDUIDataSourceFireBase." + _B._stablename + ".disableNetwork");}_booffline=_B._firestore["disableNetwork"]();return _booffline;};_B.enablenetwork=function() {var _booffline;if (_B._showlog) {console.log("SDUIDataSource." + _B._stablename + ".enableNetwork");}_booffline=_B._firestore["enableNetwork"]();return _booffline;};_B.collection=function(_colname) {var _BANp = gBANp(arguments);var _lbc;if (_B._bfbconnect==false) {throw "SDUIDataSource: FIRESTORE_CONNECT has not been called!";return null;}if (_B.isconnected(_B)==false) {window.console.warn("SDUIDataSource: No connection could be made to Firebase.");}try {_lbc= new banano_sithasodaisyfirebase_sduifbcollection();_lbc.initialize(_B._firestore,_colname);_lbc._isconnected=true;return _lbc;} catch(err) {return null;}};_B.firestoreexecute=async function() {var _BANp = gBANp(arguments);var _bread,_bselect,_bcount,_pkvalue,_k,_xsort,_xqry,_strwhere,_xfields;if (_B._bfbconnect==false) {throw "SDUIDataSource: FIRESTORE_CONNECT has not been called!";return null;}if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".FireStoreExecute");console.log("Collection Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}try {_B._db=_B.collection(_B._stablename,_BANp,_B);} catch(err) {return _BANp.resolve(true);}if (is.null(_B._db)) {return _BANp.resolve(true);}_B._db._primarykey=_B._sprimarykey;_B._db._auto=_B._sautoincrement;_B._db.schemaclear();_B._db.schemaaddblob(_B._blobs);_B._db.schemaadddouble(_B._doubles);_B._db.schemaaddint(_B._integers);_B._db.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;_B._tag=_B._saction;switch ("" + _B._saction) {case "" + _B._action_create_table:break;case "" + _B._action_create:_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}await _B._db.addwait(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}await _B._db.readwait(_pkvalue);break;case "" + _B._action_update:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];await _B._db.mergewait(_pkvalue,_B._record);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}await _B._db.deletewait(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_chart:_bselect=true;if (_B._schemaorderby.length==0) {_B._result=await _B._db.getwait();} else {_B._result=await _B._db.getwaitsort(_B._schemaorderby);}break;case "" + _B._action_selectforcombo:case "" + _B._action_exists:_bselect=true;_xsort=_B._schemaorderby.join(",");_xqry="SELECT __name__ AS " + _B._sprimarykey + ", " + _B._sdisplayfield + " FROM " + _B._stablename + "";if (Object.keys(_B._cw).length>0) {_strwhere=_B.firestorebuildwhere(_BANp,_B);_xqry=_xqry+" WHERE "+_strwhere+" ";}if (_xsort!="") {_xqry="" + _xqry + " ORDER BY " + _xsort + "";}_xqry=_xqry.trim();if (_B._showlog) {console.log(_xqry);}_B._firesql=new FireSQL(_B._firestore);_B._result=await _B._db.query(_B._firesql,_xqry);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_B._flds1=_banano_sithasodaisy_sduishared.listremoveitem(_B._flds1,"id");_xfields=_B._flds1.join(",");_xsort=_B._orderbyl.join(",");_xqry="SELECT __name__ AS " + _B._sprimarykey + ", " + _xfields + " FROM " + _B._stablename + "";if (Object.keys(_B._cw).length>0) {_strwhere=_B.firestorebuildwhere(_BANp,_B);_xqry=_xqry+" WHERE "+_strwhere+" ";}if (_xsort!="") {_xqry="" + _xqry + " ORDER BY " + _xsort + "";}_xqry=_xqry.trim();if (_B._showlog) {console.log(_xqry);}_B._firesql=new FireSQL(_B._firestore);_B._result=await _B._db.query(_B._firesql,_xqry);break;case "" + _B._action_count:_bcount=true;_bselect=true;break;case "" + _B._action_getmax:_bselect=true;break;case "" + _B._action_getmin:_bselect=true;break;case "" + _B._action_custom:_bselect=true;_B._firesql=new FireSQL(_B._firestore);_B._result=await _B._db.query(_B._firesql,_B._scustomquery);break;}_B._response=_B._db._response;_B._error=_B._db._error;_B._affectedrows=_B._db._affectedrows;_B._result=_B._db._result;_B._ok=_B._db._ok;if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);}}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.firestorebuildwhere=function() {var _BANp = gBANp(arguments);var _sb,_i,_iwhere,_col,_val,_oper;_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_i=0;_iwhere=Object.keys(_B._cw).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_B._cw,_i);_val=banano_getB4JValueAt(_B._cw,_i);_oper=_B._ops[_i];_sb.append(_col);_sb.append(" " + _oper + " ");_sb.append(_val);}return _sb.toString();};_B.setfirestore=function(_fs) {_B._firestore=_fs;};_B.errormessage=function(_res) {var _serror;_serror=_res["message"]===undefined? "":_res["message"];return _serror;};_B.direct_mysqlexecute=function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_pkvalue,_k,_atot,_acnt,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Direct_MYSQL");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisymysqle_sduimysqle();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql.setconnection1(_B._shostname,_B._susername,_B._spassword,_B._sport);_mysql._usebrackets=_B._bescapefields;_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_B._mpayload=_mysql.builddirect();if (_B._showlog) {console.log("payload...");console.log(_B._mpayload);}};_B.direct_mssqlexecute=function() {var _BANp = gBANp(arguments);var _mysql,_bread,_bselect,_bcount,_nr,_fld,_value,_pkvalue,_k,_atot,_acnt,_v;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Direct_MSSQL");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mysql= new banano_sithasodaisymssqle_sduimssqle();_mysql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mysql.setconnection1(_B._shostname,_B._susername,_B._spassword,_B._sport);_mysql._usebrackets=_B._bescapefields;_mysql.schemaclear();_mysql.schemaaddblob(_B._blobs);_mysql.schemaadddouble(_B._doubles);_mysql.schemaaddint(_B._integers);_mysql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_drop_table:_mysql.droptable();break;case "" + _B._action_create_table:_mysql.schemacreatetable();break;case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mysql.insert1(_B._record);break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_mysql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mysql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mysql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mysql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mysql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mysql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;_mysql.gettablenames();break;case "" + _B._action_describetable:_bselect=true;_mysql.describetable();break;case "" + _B._action_count:_bcount=true;_bselect=true;_mysql.getcount();break;case "" + _B._action_getmax:_bselect=true;_mysql.getmax();break;case "" + _B._action_getmin:_bselect=true;_mysql.getmin();break;case "" + _B._action_sumof:_bselect=true;_mysql.getsum();break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mysql._args.push(_k);_mysql._types.push(_v);}}_mysql.execute(_B._scustomquery);break;}if (_B._showlog) {console.log(_mysql._query);console.log(_mysql._args);}_B._mpayload=_mysql.builddirect();if (_B._showlog) {console.log("payload...");console.log(_B._mpayload);}};_B.direct_mongodbexecute=function() {var _BANp = gBANp(arguments);var _command,_nr,_fld,_value,_pkvalue,_k,_b;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".Direct_MongoDBExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_command="";switch ("" + _B._saction) {case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_B);_command="insert";break;case "" + _B._action_read:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_B);return _BANp.resolve(true);}_command="read";break;case "" + _B._action_update:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);_command="update";break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_command="delete";break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_command="select";break;case "" + _B._action_exists:_command="select";break;case "" + _B._action_selectwhere:_command="select";break;case "" + _B._action_custom:_command="other";break;}_b={};_b["command"]=_command;_b["query"]="";_b["dbname"]=_B._sdatabasename;_b["table"]=_B._stablename;_b["primarykey"]=_B._sprimarykey;_b["autoincrement"]="";_b["record"]=_B._record;_B._mpayload=_b;if (_B._showlog) {console.log("payload...");console.log(_B._mpayload);}};_B.mongodbexecute=async function() {var _BANp = gBANp(arguments);var _mongo,_nr,_fld,_value,_pkvalue,_k;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".MongoDBExecute");console.log("Host: " + _B._shostname + "");console.log("Port: " + _B._sport + "");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mongo= new banano_sithasodaisymongodb_sduimongodb();_mongo.initialize(_B._shostname,_B._sport,_B._sdatabasename,_B._stablename);_B._response="Success";_B._ok=true;switch ("" + _B._saction) {case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);_mongo.setrecord(_B._record);await _mongo.insertwait();_B._affectedrows=_mongo._rowcount;break;case "" + _B._action_read:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}await _mongo.readwait(_pkvalue);_B._affectedrows=_mongo._rowcount;_B._result=_mongo._result;break;case "" + _B._action_update:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);_mongo.clearwhere();_mongo.addwhere("_id",_mongo._eq_op,_pkvalue);_mongo.setrecord(_B._record);await _mongo.updatewait();_B._affectedrows=_mongo._rowcount;break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);await _mongo.deletewait(_pkvalue);_B._affectedrows=_mongo._rowcount;break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:await _mongo.selectwait();_B._affectedrows=_mongo._rowcount;_B._result=_mongo._result;break;case "" + _B._action_selectwhere:case "" + _B._action_exists:await _mongo.selectwait();_B._affectedrows=_mongo._rowcount;_B._result=_mongo._result;break;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.msaccessexecute=async function() {var _BANp = gBANp(arguments);var _mssql,_bread,_bselect,_bcount,_nr,_fld,_value,_rec,_pkvalue,_k,_atot,_acnt,_v,_srecord;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".MSAccessExecute");console.log("Table Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_mssql= new banano_sithasodaisymsaccess_sduimsaccess();_mssql.initialize(_B._sdatabasename,_B._stablename,_B._sprimarykey,_B._sautoincrement);_mssql._usebrackets=true;if (_B._bdynamic) {_mssql.setconnection1(_B._shostname,_B._susername,_B._spassword,_B._sport);}_mssql.schemaclear();_mssql.schemaaddblob(_B._blobs);_mssql.schemaadddouble(_B._doubles);_mssql.schemaaddint(_B._integers);_mssql.schemaaddtext(_B._strings);_bread=false;_bselect=false;_bcount=false;switch ("" + _B._saction) {case "" + _B._action_create:_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);if (_B._sautoincrement!="") {delete _B._record[_B._sautoincrement];}_mssql.insert1(_B._record);break;case "" + _B._action_create_bulk:_B._isbulk=true;for (var _recindex=0;_recindex<_B._inserts.length;_recindex++) {_rec=_B._inserts[_recindex];_B.correctdatatypes(_rec,_BANp,_B);if (_B._sautoincrement!="") {delete _rec[_B._sautoincrement];}_mssql.insert1(_rec);_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);_mssql.fromjson();}break;case "" + _B._action_read:_bread=true;_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);return _BANp.resolve(true);}_mssql.read(_pkvalue);break;case "" + _B._action_update:case "" + _B._action_undo:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sprimarykey];_mssql.update1(_B._record,_pkvalue);break;case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_nr={};for (var _fldindex=0;_fldindex<_B._schemafields.length;_fldindex++) {_fld=_B._schemafields[_fldindex];_value=_B._record[_fld]===undefined? "":_B._record[_fld];_nr[_fld]=_value;}_B._record=_nr;_B.correctdatatypes(_B._record,_BANp,_B);_mssql.delete(_pkvalue);break;case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_bselect=true;_mssql.selectall(_B._schemaselectfields,_B._schemaorderby);break;case "" + _B._action_exists:_bselect=true;_mssql.selectwhere(_B._schemaselectfields,_B._cw,_B._ops,_B._schemaorderby);break;case "" + _B._action_selectwhere:_bselect=true;if (_B._flds1.length==0) {_B._flds1=_B._schemaselectfields;}_mssql.selectwhere(_B._flds1,_B._cw,_B._ops,_B._orderbyl);break;case "" + _B._action_tablenames:_bselect=true;break;case "" + _B._action_describetable:_bselect=true;break;case "" + _B._action_count:_bcount=true;_bselect=true;break;case "" + _B._action_getmax:_bselect=true;break;case "" + _B._action_getmin:_bselect=true;break;case "" + _B._action_sumof:_bselect=true;break;case "" + _B._action_custom:_bselect=true;if (_B._busesparameters) {_atot=Object.keys(_B._qparameters).length-1;_acnt=0;for (_acnt=0;_acnt<=_atot;_acnt++) {_k=banano_getB4JKeyAt(_B._qparameters,_acnt);_v=banano_getB4JValueAt(_B._qparameters,_acnt);_mssql._args.push(_k);_mssql._types.push(_v);}}_mssql.execute(_B._scustomquery);break;}if (_B._isbulk==false) {if (_B._showlog) {console.log(_mssql._query);console.log(_mssql._args);}_B._mpayload=_mssql.build();_mssql._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _mssql._methodname, "params": _B._mpayload}),false,null);if (_B._showlog) {console.log("Payload to execute...");console.log(_B._mpayload);}_mssql.fromjson();}if (_B._isbulk==false) {_B._response=_mssql._response;_B._error=_mssql._error;_B._affectedrows=_mssql._affectedrows;_B._result=_mssql._result;if (_B._blowercasefields) {_banano_sithasodaisy_sduishared.listofmapskeystolowercase(_B._result);}_B._ok=_mssql._ok;if (_bcount) {if (_B._result.length>=0) {_B._record=_B._result[0];_srecord=_B._record["records"]===undefined? 0:_B._record["records"];_B._affectedrows=parseInt(_srecord);} else {_B._affectedrows=0;}} else {if (_bread) {if (_B._result.length>=0) {_B._record=_B._result[0];_B.correctdatatypes(_B._record,_BANp,_B);} else {_B._record={};for (var _kindex=0;_kindex<_B._schemafields.length;_kindex++) {_k=_B._schemafields[_kindex];_B._record[_k]="";}_B.correctdatatypes(_B._record,_BANp,_B);_B._affectedrows=-1;}}}} else {_B._response=_B._result_success;_B._error="";_B._affectedrows=0;_B._result.length=0;_B._ok=true;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.addtoparent=function(_targetid,_props) {_B._mtarget=u("#"+_targetid.toLowerCase());_B.designercreateview(_B._mtarget,_props,_B);};_B.adddesignwait=async function(_designname) {var _fileurl,_design,_mprops,_sparent;_fileurl="./assets/" + _designname + ".json";_design=await BANFetch('T', _fileurl,'',"utf-8");_mprops=JSON.parse(_design);_sparent=_mprops["ParentID"]===undefined? "":_mprops["ParentID"];_B.addtoparent(_sparent,_mprops,_B);return true;};_B.nextrow=function() {var _realsize;_B._lastposition=_B._lastposition+1;_realsize=_B._rowcount-1;if (_B._lastposition>_realsize) {return false;} else {_B.setposition(_B._lastposition,_B);return true;}};_B.firstrecord=function() {var _rec;_rec=_B._result[0];return _rec;};_B.setposition=function(_pos) {if (_B._result.length>_pos) {_B._record=_B._result[_pos];_B._lastposition=_pos;} else {_B._lastposition=-1;_B._record={};}};_B.getposition=function() {return _B._lastposition;};_B.getint=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return 0;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cint(_obj);return _obj;} else {return 0;}};_B.getlong=function(_fld) {return _B.getint(_fld,_B);};_B.getstring=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return "";}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? "":_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cstr(_obj);return _obj;} else {return "";}};_B.getboolean=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return false;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? false:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.parsebool(_obj);return _obj;} else {return false;}};_B.getdouble=function(_fld) {var _obj;_fld=_fld.toLowerCase();if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cdbl(_obj);return _obj;} else {return 0;}};_B.getrecord=function(_pos) {var _rec;_rec=_B._result[_pos];return _rec;};_B.movetofirst=function() {_B.setposition(0,_B);};_B.movetolast=function() {_B.setposition(_B._rowcount-1,_B);};_B.movetoprevious=function() {_B._lastposition=_B._lastposition-1;if (_B._lastposition<0) {_B._lastposition=0;}_B.setposition(_B._lastposition,_B);};_B.movetonext=function() {_B._lastposition=_B._lastposition+1;if (_B._lastposition>_B._rowcount) {_B._lastposition=_B._rowcount-1;}_B.setposition(_B._lastposition,_B);};_B.designercreateview=function(_target,_props) {_B._mtarget=_target;if (_props!=null) {_B._bescapefields=_props["EscapeFields"]===undefined? true:_props["EscapeFields"];_B._bescapefields=_banano_sithasodaisy_sduishared.parsebool(_B._bescapefields);_B._sport=_props["Port"]===undefined? "3306":_props["Port"];_B._sport=_banano_sithasodaisy_sduishared.cstr(_B._sport);_B._enablepersistence=_props["EnablePersistence"]===undefined? true:_props["EnablePersistence"];_B._enablepersistence=_banano_sithasodaisy_sduishared.parsebool(_B._enablepersistence);_B._timestamponsnapshots=_props["TimeStampOnSnapShots"]===undefined? true:_props["TimeStampOnSnapShots"];_B._timestamponsnapshots=_banano_sithasodaisy_sduishared.parsebool(_B._timestamponsnapshots);_B._useanalytics=_props["UseAnalytics"]===undefined? false:_props["UseAnalytics"];_B._useanalytics=_banano_sithasodaisy_sduishared.parsebool(_B._useanalytics);_B._useauth=_props["UseAuth"]===undefined? false:_props["UseAuth"];_B._useauth=_banano_sithasodaisy_sduishared.parsebool(_B._useauth);_B._usedatabase=_props["UseDatabase"]===undefined? false:_props["UseDatabase"];_B._usedatabase=_banano_sithasodaisy_sduishared.parsebool(_B._usedatabase);_B._usefirestore=_props["UseFireStore"]===undefined? false:_props["UseFireStore"];_B._usefirestore=_banano_sithasodaisy_sduishared.parsebool(_B._usefirestore);_B._useperformance=_props["UsePerformance"]===undefined? false:_props["UsePerformance"];_B._useperformance=_banano_sithasodaisy_sduishared.parsebool(_B._useperformance);_B._usestorage=_props["UseStorage"]===undefined? false:_props["UseStorage"];_B._usestorage=_banano_sithasodaisy_sduishared.parsebool(_B._usestorage);_B._usemessaging=_props["UseMessaging"]===undefined? false:_props["UseMessaging"];_B._usemessaging=_banano_sithasodaisy_sduishared.parsebool(_B._usemessaging);_B._svapidkey=_props["VapidKey"]===undefined? "":_props["VapidKey"];_B._sautoincrement=_props["AutoIncrement"]===undefined? "":_props["AutoIncrement"];_B._sautoincrement=_B._sautoincrement.toLowerCase();_B._sblobs=_props["Blobs"]===undefined? "":_props["Blobs"];_B._scustomquery=_props["CustomQuery"]===undefined? "":_props["CustomQuery"];_B._sdatabasename=_props["DatabaseName"]===undefined? "":_props["DatabaseName"];_B._sdatabasetype=_props["DatabaseType"]===undefined? "mysql":_props["DatabaseType"];_B._sdoubles=_props["Doubles"]===undefined? "":_props["Doubles"];_B._bdynamic=_props["Dynamic"]===undefined? false:_props["Dynamic"];_B._bdynamic=_banano_sithasodaisy_sduishared.parsebool(_B._bdynamic);_B._blivereplication=_props["LiveReplication"]===undefined? false:_props["LiveReplication"];_B._blivereplication=_banano_sithasodaisy_sduishared.parsebool(_B._blivereplication);_B._sfields=_props["Fields"]===undefined? "":_props["Fields"];_B._shostname=_props["HostName"]===undefined? "localhost":_props["HostName"];_B._sintegers=_props["Integers"]===undefined? "":_props["Integers"];_B._sorderby=_props["OrderBy"]===undefined? "id":_props["OrderBy"];_B._spassword=_props["Password"]===undefined? "":_props["Password"];_B._sprimarykey=_props["PrimaryKey"]===undefined? "":_props["PrimaryKey"];_B._sprimarykey=_B._sprimarykey.toLowerCase();_B._srecordsource=_props["RecordSource"]===undefined? "":_props["RecordSource"];_B._sselectfields=_props["SelectFields"]===undefined? "*":_props["SelectFields"];_B._bwatchchanges=_props["WatchChanges"]===undefined? false:_props["WatchChanges"];_B._bwatchchanges=_banano_sithasodaisy_sduishared.parsebool(_B._bwatchchanges);_B._bworkonline=_props["WorkOnline"]===undefined? true:_props["WorkOnline"];_B._bworkonline=_banano_sithasodaisy_sduishared.parsebool(_B._bworkonline);_B._stablename=_props["TableName"]===undefined? "":_props["TableName"];_B._susername=_props["UserName"]===undefined? "root":_props["UserName"];_B._sdefaults=_props["Defaults"]===undefined? "":_props["Defaults"];_B._ssingular=_props["Singular"]===undefined? "":_props["Singular"];_B._splural=_props["Plural"]===undefined? "":_props["Plural"];_B._sdisplayfield=_props["DisplayField"]===undefined? "":_props["DisplayField"];_B._sdisplayfield=_B._sdisplayfield.toLowerCase();_B._showlog=_props["ShowLog"]===undefined? false:_props["ShowLog"];_B._showlog=_banano_sithasodaisy_sduishared.parsebool(_B._showlog);_B._ssalt=_props["Salt"]===undefined? "":_props["Salt"];_B._ssalt=_banano_sithasodaisy_sduishared.cstr(_B._ssalt);_B._blowercasefields=_props["LowerCaseFields"]===undefined? true:_props["LowerCaseFields"];_B._blowercasefields=_banano_sithasodaisy_sduishared.parsebool(_B._blowercasefields);_B._sparentid=_props["ParentID"]===undefined? "":_props["ParentID"];_B._sparentid=_banano_sithasodaisy_sduishared.cstr(_B._sparentid);_B._sformname=_props["FormName"]===undefined? "":_props["FormName"];_B._sformname=_banano_sithasodaisy_sduishared.cstr(_B._sformname);_B._sjrdcinsert=_props["JRDCInsert"]===undefined? "":_props["JRDCInsert"];_B._sjrdcinsert=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcinsert);_B._sjrdcupdate=_props["JRDCUpdate"]===undefined? "":_props["JRDCUpdate"];_B._sjrdcupdate=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcupdate);_B._sjrdcdelete=_props["JRDCDelete"]===undefined? "":_props["JRDCDelete"];_B._sjrdcdelete=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcdelete);_B._sjrdcselect=_props["JRDCSelect"]===undefined? "":_props["JRDCSelect"];_B._sjrdcselect=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcselect);_B._sjrdcread=_props["JRDCRead"]===undefined? "":_props["JRDCRead"];_B._sjrdcread=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcread);_B._sjrdcselectwhere=_props["JRDCSelectWhere"]===undefined? "":_props["JRDCSelectWhere"];_B._sjrdcselectwhere=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcselectwhere);_B._sjrdcexists=_props["JRDCExists"]===undefined? "":_props["JRDCExists"];_B._sjrdcexists=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcexists);_B._sjrdcselectwherecustom=_props["JRDCSelectWhereCustom"]===undefined? "":_props["JRDCSelectWhereCustom"];_B._sjrdcselectwherecustom=_banano_sithasodaisy_sduishared.cstr(_B._sjrdcselectwherecustom);_B._bencryptto=_props["EncryptTo"]===undefined? false:_props["EncryptTo"];_B._bencryptto=_banano_sithasodaisy_sduishared.parsebool(_B._bencryptto);_B._bencryptfrom=_props["EncryptFrom"]===undefined? false:_props["EncryptFrom"];_B._bencryptfrom=_banano_sithasodaisy_sduishared.parsebool(_B._bencryptfrom);_B._spasswordfield=_props["PasswordField"]===undefined? "":_props["PasswordField"];_B._spasswordfield=_banano_sithasodaisy_sduishared.cstr(_B._spasswordfield);_B._busesencryption=_props["UsesEncryption"]===undefined? false:_props["UsesEncryption"];_B._busesencryption=_banano_sithasodaisy_sduishared.parsebool(_B._busesencryption);_B._srawbaseurl=_props["RawBaseURL"]===undefined? "":_props["RawBaseURL"];_B._srawbaseurl=_banano_sithasodaisy_sduishared.cstr(_B._srawbaseurl);}if (_B._sparentid!="") {_B._sparentid=_B._sparentid.toLowerCase();_B._mtarget=u("#" + _B._sparentid + "");}if (u("#" + _B._mname + "").length>0) {_B._melement=u("#" + _B._mname + "");} else {_B._melement=_B._mtarget.append("<div data-type=\"bds\" id=\"" + _B._mname + "\"></div>").find("#"+_B._mname).bananofirst();}_B.schemabuild(_B);_B.assignelement(_B._mcallback,_B._mname,_B);_B._tag="";};_B.assignelement=function(_module,_id) {_id=_banano_sithasodaisy_sduishared.cleanid(_id);if (u("#" + _id + "").length>0==false) {return;}_B._mname=_id;_B._mcallback=_module;_B._melement=u("#" + _id + "");_B._root.assignelement(_B._mcallback,_B._mname);};_B.addtoparentdt=function(_xparentid) {_xparentid=_xparentid.split("#").join("");_B._sparentid=_xparentid.toLowerCase();if (_B._sparentid=="") {throw "You need to enter the ParentID for " + _B._mname + "!";return;}_B._mtarget=u("#"+_B._sparentid);_B.designercreateview(_B._mtarget,{},_B);};_B.phpapi_execute=async function() {var _BANp = gBANp(arguments);var _axios,_res,_res1,_pkvalue;if (_B._showlog) {console.log("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + "." + _B._stablename + ".PHPAPI_Execute");console.log("BaseURL: " + _B._srawbaseurl + "");console.log("UserName: " + _B._susername + "");console.log("Password: " + _B._spassword + "");console.log("Collection Name: " + _B._stablename + "");console.log("Primary Key: " + _B._sprimarykey + "");console.log("AutoIncrement: " + _B._sautoincrement + "");console.log("RecordSource: " + _B._srecordsource + "");console.log("Singular: " + _B._ssingular + "");console.log("Plural: " + _B._splural + "");console.log("Display Field: " + _B._sdisplayfield + "");console.log("Fields: " + JSON.stringify(_B._schemafields) + "");console.log("Select Fields: " + JSON.stringify(_B._schemaselectfields) + "");console.log("Sort By: " + JSON.stringify(_B._schemaorderby) + "");console.log("Integers: " + JSON.stringify(_B._integers) + "");console.log("Doubles: " + JSON.stringify(_B._doubles) + "");console.log("Blobs: " + JSON.stringify(_B._blobs) + "");console.log("Defaults: " + JSON.stringify(_B._schemadefaultsm) + "");}_axios= new banano_sithasodaisyaxios_sduiaxios();_axios.initialize(_B._srawbaseurl);_res={};switch ("" + _B._saction) {case "" + _B._action_create:_axios.seturl("/records/" + _B._stablename + "");_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sautoincrement];_axios.setdata(_B._record);_res1=await _axios.postwait();_res1=_banano_sithasodaisy_sduishared.cstr(_res1);if (_res1=="200") {_B._ok=true;_B._response=_B._result_success;_B._affectedrows=1;_B._rowcount=1;}return _BANp.resolve(true);case "" + _B._action_read:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {_B._error="Primary key value is blank!";return _BANp.resolve(true);}_axios.seturl("/records/" + _B._stablename + "/" + _pkvalue + "");_B._record=await _axios.getwait();_B.correctdatatypessave(_B._record,_BANp,_B);_B._result.push(_B._record);_B._ok=true;_B._response=_B._result_success;_B._affectedrows=_B._result.length;_B._rowcount=_B._result.length;return _BANp.resolve(true);case "" + _B._action_update:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_axios.seturl("/records/" + _B._stablename + "/" + _pkvalue + "");_B.correctdatatypessave(_B._record,_BANp,_B);delete _B._record[_B._sautoincrement];_axios.setdata(_B._record);_res1=await _axios.putwait();_res1=_banano_sithasodaisy_sduishared.cstr(_res1);if (_res1=="200") {_B._ok=true;_B._response=_B._result_success;_B._affectedrows=1;_B._rowcount=1;}return _BANp.resolve(true);case "" + _B._action_delete:_pkvalue=_B._record[_B._sprimarykey]===undefined? "":_B._record[_B._sprimarykey];if (_pkvalue=="") {return _BANp.resolve(true);}_axios.seturl("/records/" + _B._stablename + "/" + _pkvalue + "");_res1=await _axios.deletewait();_res1=_banano_sithasodaisy_sduishared.cstr(_res1);if (_res1=="200") {_B._ok=true;_B._response=_B._result_success;_B._affectedrows=1;_B._rowcount=1;}return _BANp.resolve(true);case "" + _B._action_selectall:case "" + _B._action_pdf:case "" + _B._action_report:case "" + _B._action_excel:case "" + _B._action_selectforcombo:case "" + _B._action_chart:_axios.seturl("/records/" + _B._stablename + "");_res=await _axios.getwait();if (("records" in _res)) {_B._result=_res["records"];_B._ok=true;_B._response=_B._result_success;}_B._affectedrows=_B._result.length;_B._rowcount=_B._result.length;return _BANp.resolve(true);case "" + _B._action_exists:_axios.seturl("/records/" + _B._stablename + "");_res=await _axios.getwait();if (("records" in _res)) {_B._result=_res["records"];_B._ok=true;_B._response=_B._result_success;}_B._affectedrows=_B._result.length;_B._rowcount=_B._result.length;return _BANp.resolve(true);case "" + _B._action_selectwhere:_axios.seturl("/records/" + _B._stablename + "");_res=await _axios.getwait();if (("records" in _res)) {_B._result=_res["records"];_B._ok=true;_B._response=_B._result_success;}_B._affectedrows=_B._result.length;_B._rowcount=_B._result.length;return _BANp.resolve(true);break;default:window.console.error("SDUIDataSource." + _B._sdatabasetype + "." + _B._sdatabasename + ".PHPAPI_Execute - " + _B._saction + " is NOT supported!");break;}_B._rowcount=_B._affectedrows;return _BANp.resolve(true);};_B.add_order_by=function(_fld) {_B._orderbyl.push(_fld);return _B;};_B.add_field=function(_fld) {_B._flds1.push(_fld);return _B;};_B.add_fields=function(_fields) {var _fld;for (var _fldindex=0;_fldindex<_fields.length;_fldindex++) {_fld=_fields[_fldindex];_B.add_field(_fld,_B);}return _B;};}