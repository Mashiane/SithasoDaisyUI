
/* sithasodaisyrelax */
function banano_sithasodaisyrelax_sduirelax() {var _B=this;_B._db=null;_B._dbname="";_B._mcallback={};_B._remotecouch="";_B._shost="";_B._sport="";_B._suser="";_B._spwd="";_B._bauto=false;_B._bonline=false;_B._db_bool="BOOL";_B._db_int="INT";_B._db_string="STRING";_B._db_real="REAL";_B._db_blob="BLOB";_B._db_float="FLOAT";_B._db_integer="INTEGER";_B._db_text="TEXT";_B._db_double="DOUBLE";_B._schema={};_B._cw={};_B._ops=[];_B._fields=[];_B._sortby=[];_B._limitto=0;_B._skip=0;_B._op_eq="$eq";_B._op_lte="$lte";_B._op_lt="$lt";_B._op_gt="$gt";_B._op_gte="$gte";_B._op_exists="$exists";_B._op_ne="$ne";_B._op_in="$in";_B._op_not_in="$nin";_B._op_size="$size";_B._op_mod="$mod";_B._op_regex="$regex";_B._op_elem_match="$elemMatch";_B._op_typeof="$type";_B._op_all="$all";_B._showlog=false;_B._record={};_B._result=[];_B._rowcount=0;_B._lastposition=0;_B._affectedrows=0;_B.sethost=function(_vhost) {_B._shost=_vhost;};_B.setport=function(_vport) {_B._sport=_vport;};_B.setusername=function(_vusername) {_B._suser=_vusername;};_B.setpassword=function(_vpwd) {_B._spwd=_vpwd;};_B.initialize=function(_module,_name,_auto) {_B._mcallback=_module;_B._dbname=_name;_B._bauto=_auto;_B._bonline=false;_B._schema={};_B._rowcount=0;_B._lastposition=-1;_B._affectedrows=0;return _B;};_B.work_offline=function() {_B._db=new PouchDB(_B._dbname);_B._bonline=false;return _B;};_B.work_online=function() {if (_B._shost=="") {throw "WORK_ONLINE.Host address not specified!";return;}if (_B._sport=="") {throw "WORK_ONLINE.Port not specified!";return;}if (_B._suser=="") {throw "WORK_ONLINE.User Name not specified!";return;}if (_B._spwd=="") {throw "WORK_ONLINE.Password not specified!";return;}_B._remotecouch="http://" + _B._suser + ":" + _B._spwd + "@" + _B._shost + ":" + _B._sport + "/" + _B._dbname + "";_B._db=new PouchDB(_B._remotecouch);_B._bonline=true;};_B.replicate=function(_live,_retry) {var _eventname,_res,_err,_cb,_opt;if (_B._bonline) {window.console.error("SDUIRelax.SYNC: " + _B._dbname + " - First work offline and then sync!");return;}if (_B._shost=="") {throw "SYNC.Host address not specified!";return;}if (_B._sport=="") {throw "SYNC.Port not specified!";return;}if (_B._suser=="") {throw "SYNC.User Name not specified!";return;}if (_B._spwd=="") {throw "SYNC.Password not specified!";return;}_eventname="" + _B._dbname + "_replicate";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}_res={};_err={};_cb=function(_err,_res) {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {return _B._mcallback[(_eventname).toLowerCase()](_err,_res,_B)};};_B._remotecouch="http://" + _B._suser + ":" + _B._spwd + "@" + _B._shost + ":" + _B._sport + "/" + _B._dbname + "";_opt={};_opt["live"]=_live;_opt["retry"]=_retry;_B._db["replicate"]["to"](_B._remotecouch,_opt,_cb);_B._db["replicate"]["from"](_B._remotecouch,_opt,_cb);};_B.compact=function() {var _eventname,_res,_err,_cb;_eventname="" + _B._dbname + "_compact";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}_res={};_err={};_cb=function(_err,_res) {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {return _B._mcallback[(_eventname).toLowerCase()](_err,_res,_B)};};_B._db["compact"](_cb);};_B.watch_changes=function(_sincewhen,_live,_includedocs) {var _opt,_changes,_eventname,_change,_cbchange,_eventnamec,_info,_cbcomplete,_eventnamee,_err,_cberror;_opt={};_opt["since"]=_sincewhen;_opt["live"]=_live;_opt["include_docs"]=_includedocs;_changes=_B._db["changes"](_opt);_eventname="" + _B._dbname + "_change";_change={};_cbchange=function(_change) {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {return _B._mcallback[(_eventname).toLowerCase()](_change,_B)};};_changes["on"]("change",_cbchange);_eventnamec="" + _B._dbname + "_complete";_info={};_cbcomplete=function(_info) {if (typeof _B._mcallback[(_eventnamec).toLowerCase()]==="function") {return _B._mcallback[(_eventnamec).toLowerCase()](_info,_B)};};_changes["on"]("complete",_cbcomplete);_eventnamee="" + _B._dbname + "_error";_err={};_cberror=function(_err) {if (typeof _B._mcallback[(_eventnamee).toLowerCase()]==="function") {return _B._mcallback[(_eventnamee).toLowerCase()](_err,_B)};};_changes["on"]("error",_cberror);return _B;};_B.insert=function(_nrec) {var _dtnow,_res,_err,_cb;if (_B._bauto) {_dtnow=BANUUID();_nrec["_id"]=_dtnow;}_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("insertresult").toLowerCase()]==="function") {return _B[("insertresult").toLowerCase()](_err,_res,_B)};};_B._db["put"](_nrec,_cb);return _B;};_B.insertwait=async function(_nrec) {var _dtnow,_res;if (_B._bauto) {_dtnow=BANUUID();_nrec["_id"]=_dtnow;}_res=await _B._db["put"](_nrec);return _res;};_B.selectallwait=async function(_desc) {var _opt,_doc,_docs,_docm,_edoc;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_opt={};_opt["include_docs"]=true;_opt["descending"]=_desc;_doc=await _B._db["allDocs"](_opt);_docs=_doc["rows"];for (var _docmindex=0;_docmindex<_docs.length;_docmindex++) {_docm=_docs[_docmindex];_edoc=_docm["doc"];_B._result.push(_edoc);}_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.selectrangewait=async function(_range,_includedocs) {var _opt,_doc,_docs,_docm,_edoc;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_opt={};_opt["include_docs"]=_includedocs;_opt["startkey"]=_range;_opt["endkey"]="" + _range + "\uffff";_doc=await _B._db["allDocs"](_opt);_docs=_doc["rows"];for (var _docmindex=0;_docmindex<_docs.length;_docmindex++) {_docm=_docs[_docmindex];_edoc=_docm["doc"];_B._result.push(_edoc);}_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.readwait=async function(_docid) {var _res;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_res=await _B._db["get"](_docid);return _res;};_B.deletewait=async function(_docid) {var _doc,_rev,_delm,_res;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_doc=await _B.readwait(_docid,_B);_rev=_doc["_rev"]===undefined? "":_doc["_rev"];_delm={};_delm["_id"]=_docid;_delm["_rev"]=_rev;_res=await _B._db["remove"](_delm);return _res;};_B.updatewait=async function(_docid,_nrec) {var _doc,_rev,_k,_v,_opt,_res;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_doc=await _B.readwait(_docid,_B);_rev=_doc["_rev"]===undefined? "":_doc["_rev"];var _kKeys = Object.keys(_nrec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_nrec[_k];_doc[_k]=_v;}_opt={};_opt["force"]=true;_doc["_id"]=_docid;_doc["_rev"]=_rev;_res=await _B._db["put"](_doc,_opt);return _res;};_B.read=function(_docid) {var _res,_err,_cb;_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("readresult").toLowerCase()]==="function") {return _B[("readresult").toLowerCase()](_err,_res,_B)};};_B._db["get"](_docid,_cb);return _B;};_B.readresult=function(_err,_res) {var _nerr,_eventname;_nerr=_B.torelaxerr(_err,_B);_eventname="" + _B._dbname + "_read";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_nerr,_res,_B);if(CSr!=null) {return CSr}}})();};_B.delete=function(_nrec) {var _res,_err,_cb;_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("deleteresult").toLowerCase()]==="function") {return _B[("deleteresult").toLowerCase()](_err,_res,_B)};};_B._db["remove"](_nrec,_cb);return _B;};_B.deleteresult=function(_err,_res) {var _nrec,_nerr,_eventname;_nrec=_B.torelaxrec(_res,_B);_nerr=_B.torelaxerr(_err,_B);_eventname="" + _B._dbname + "_delete";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_nerr,_nrec,_B);if(CSr!=null) {return CSr}}})();};_B.update=function(_nrec,_force) {var _res,_err,_opt,_cb;_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_opt={};_opt["force"]=_force;_cb=function(_err,_res) {if (typeof _B._mcallback[("updateresult").toLowerCase()]==="function") {return _B._mcallback[("updateresult").toLowerCase()](_err,_res,_B)};};_B._db["put"](_nrec,_opt,_cb);return _B;};_B.updateresult=function(_err,_res) {var _nrec,_nerr,_eventname;_nrec=_B.torelaxrec(_res,_B);_nerr=_B.torelaxerr(_err,_B);_eventname="" + _B._dbname + "_update";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_nerr,_nrec,_B);if(CSr!=null) {return CSr}}})();};_B.torelaxrec=function(_res) {var _nrec;_nrec= new banano_sithasodaisyrelax_relaxrec();_nrec.initialize();_nrec._ok=false;_nrec._id="";_nrec._rev="";if (is.null(_res)==false || is.undefined(_res)) {_nrec._id=_res["id"]===undefined? "":_res["id"];_nrec._ok=_res["ok"]===undefined? false:_res["ok"];_nrec._rev=_res["rev"]===undefined? "":_res["rev"];}return _nrec;};_B.torelaxerr=function(_res) {var _nerr;_nerr= new banano_sithasodaisyrelax_relaxerr();_nerr.initialize();_nerr._error=false;_nerr._message="";_nerr._name="";_nerr._reason="";_nerr._status=0;if (is.null(_res)==false || is.undefined(_res)) {_nerr._error=_res["error"]===undefined? false:_res["error"];_nerr._message=_res["message"]===undefined? "":_res["message"];_nerr._name=_res["name"]===undefined? "":_res["name"];_nerr._reason=_res["reason"]===undefined? "":_res["reason"];_nerr._status=_res["status"]===undefined? "":_res["status"];}return _nerr;};_B.update_bulk=function(_nrecs) {var _res,_err,_cb;_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("updateresult").toLowerCase()]==="function") {return _B[("updateresult").toLowerCase()](_err,_res,_B)};};_B._db["bulkDocs"](_nrecs,_cb);return _B;};_B.delete_bulk=function(_nrecs) {var _dtot,_dcnt,_rec,_res,_err,_cb;_dtot=_nrecs.length-1;_dcnt=0;for (_dcnt=0;_dcnt<=_dtot;_dcnt++) {_rec=_nrecs[_dcnt];_rec["_deleted"]=true;_nrecs[_dcnt]=_rec;}_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("deleteresult").toLowerCase()]==="function") {return _B[("deleteresult").toLowerCase()](_err,_res,_B)};};_B._db["bulkDocs"](_nrecs,_cb);return _B;};_B.insertresult=function(_err,_res) {var _nerr,_nres,_eventname;_nerr=_B.torelaxerr(_err,_B);_nres=_B.torelaxrec(_res,_B);_eventname="" + _B._dbname + "_insert";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_nerr,_nres,_B);if(CSr!=null) {return CSr}}})();};_B.insert_bulk=function(_nrecs) {var _res,_err,_cb;_res={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_res) {if (typeof _B[("insertresult").toLowerCase()]==="function") {return _B[("insertresult").toLowerCase()](_err,_res,_B)};};_B._db["bulkDocs"](_nrecs,_cb);return _B;};_B.insertbulkwait=async function(_recs) {_B._result=await _B._db["bulkDocs"](_recs);_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.updatebulkwait=async function(_recs) {_B._result=await _B._db["bulkDocs"](_recs);_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.deletebulkwait=async function(_recs) {var _dtot,_dcnt,_rec;_dtot=_recs.length-1;_dcnt=0;for (_dcnt=0;_dcnt<=_dtot;_dcnt++) {_rec=_recs[_dcnt];_rec["_deleted"]=true;_recs[_dcnt]=_rec;}_B._result=await _B._db["bulkDocs"](_recs);_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.select_all=function(_desc) {var _opt,_doc,_err,_cb;_opt={};_opt["include_docs"]=true;_opt["descending"]=_desc;_doc={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_doc) {if (typeof _B[("selectallresult").toLowerCase()]==="function") {return _B[("selectallresult").toLowerCase()](_err,_doc,_B)};};_B._db["allDocs"](_opt,_cb);return _B;};_B.selectallresult=function(_err,_doc) {var _nerr,_docs,_docm,_edoc,_eventname;_nerr=_B.torelaxerr(_err,_B);_B._result.length=0;if (is.null(_doc)==false || is.undefined(_doc)) {_docs=_doc["rows"];for (var _docmindex=0;_docmindex<_docs.length;_docmindex++) {_docm=_docs[_docmindex];_edoc=_docm["doc"];_B._result.push(_edoc);}}_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;_eventname="" + _B._dbname + "_selectall";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_nerr,_B._result,_B);if(CSr!=null) {return CSr}}})();};_B.firstrecord=function() {var _rec;_rec=_B._result[0];return _rec;};_B.create_index=function(_xfields) {var _idx,_opt,_resultx,_err,_cb;_idx={};_idx["fields"]=_xfields;_opt={};_opt["index"]=_idx;_resultx={};_err={};_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_cb=function(_err,_resultx) {if (typeof _B._mcallback[("" + _B._dbname + "_createindex").toLowerCase()]==="function") {return _B._mcallback[("" + _B._dbname + "_createindex").toLowerCase()](_err,_resultx,_B)};};_B._db["createIndex"](_opt,_cb);return _B;};_B.createindexwait=async function(_xfields) {var _idx,_opt,_res;_idx={};_idx["fields"]=_xfields;_opt={};_opt["index"]=_idx;_res=await _B._db["createIndex"](_opt);return _res;};_B.selectwherewait=async function() {var _ni,_item,_opt,_res;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_ni=[];_ni.length=0;if (_B._sortby.length>=1) {for (var _itemindex=0;_itemindex<_B._sortby.length;_itemindex++) {_item=_B._sortby[_itemindex];if (_item!="_id") {_item=_B.mvfield(_item,1,":",_B);if (_ni.indexOf(_item)==-1) {_ni.push(_item);}if ((_item in _B._cw)==false) {_B.add_where(_item,_B._op_gt,null,_B);}}}}_opt=_B.buildselector(_B._fields,_B._cw,_B._ops,_B._sortby,_B._limitto,_B._skip,_B);if (Object.keys(_B._cw).length>=1) {var _itemKeys = Object.keys(_B._cw);for (var _itemindex=0;_itemindex<_itemKeys.length;_itemindex++) {_item=_itemKeys[_itemindex];if (_item!="_id") {if (_ni.indexOf(_item)==-1) {_ni.push(_item);}}}}if (_ni.length>=1) {await _B.createindexwait(_ni,_B);}_res=await _B._db["find"](_opt);_B._result=_res["docs"];_B._affectedrows=_B._result.length;_B._rowcount=_B._affectedrows;return _B._result;};_B.buildselector=function(_xfields,_xfieldandvalue,_xfieldoperators,_xsortby,_xlimitto,_xskip) {var _opt,_selector,_fvtot,_fvcnt,_key,_value,_operator,_findobj,_ff,_ns,_sitem,_sfld,_sdes,_sortm;_opt={};_selector={};if (Object.keys(_xfieldandvalue).length==0) {_xfieldandvalue["language"]="query";_xfieldoperators.push(_B._op_ne);}_fvtot=Object.keys(_xfieldandvalue).length-1;_fvcnt=0;for (_fvcnt=0;_fvcnt<=_fvtot;_fvcnt++) {_key=banano_getB4JKeyAt(_xfieldandvalue,_fvcnt);_value=banano_getB4JValueAt(_xfieldandvalue,_fvcnt);_operator=_xfieldoperators[_fvcnt];_findobj={};_findobj[_operator]=_value;_selector[_key]=_findobj;}_ff=_xfields[0];if (_ff!="*") {_opt["fields"]=_xfields;}_opt["selector"]=_selector;if (_xsortby.length>=1) {_ns=[];_ns.length=0;for (var _sitemindex=0;_sitemindex<_xsortby.length;_sitemindex++) {_sitem=_xsortby[_sitemindex];if (_sitem.contains(":")) {_sfld=_B.mvfield(_sitem,1,":",_B);_sdes=_B.mvfield(_sitem,2,":",_B);_sortm={};_sortm[_sfld]=_sdes;_ns.push(_sortm);} else {_ns.push(_sitem);}}_opt["sort"]=_ns;}if (_xlimitto!=0) {_opt["limit"]=_xlimitto;}if (_xskip!=0) {_opt["skip"]=_xskip;}return _opt;};_B.select_where=async function() {var _ni,_item,_opt,_docs,_cb;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;_ni=[];_ni.length=0;if (_B._sortby.length>=1) {for (var _itemindex=0;_itemindex<_B._sortby.length;_itemindex++) {_item=_B._sortby[_itemindex];if (_item!="_id") {_item=_B.mvfield(_item,1,":",_B);if (_ni.indexOf(_item)==-1) {_ni.push(_item);}if ((_item in _B._cw)==false) {_B.add_where(_item,_B._op_gt,null,_B);}}}}_opt=_B.buildselector(_B._fields,_B._cw,_B._ops,_B._sortby,_B._limitto,_B._skip,_B);if (Object.keys(_B._cw).length>=1) {var _itemKeys = Object.keys(_B._cw);for (var _itemindex=0;_itemindex<_itemKeys.length;_itemindex++) {_item=_itemKeys[_itemindex];if (_item!="_id") {if (_ni.indexOf(_item)==-1) {_ni.push(_item);}}}}if (_ni.length>=1) {await _B.createindexwait(_ni,_B);}_docs={};_cb=function(_docs) {if (typeof _B[("findresult").toLowerCase()]==="function") {return _B[("findresult").toLowerCase()](_docs,_B)};};_B._db["find"](_opt,_cb);return _B;};_B.findresult=function(_docs) {var _eventname;_B._result=_docs["docs"];_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;_eventname="" + _B._dbname + "_selectwhere";if ((typeof _B._mcallback[(_eventname).toLowerCase()]==="function")==false) {window.console.error("" + _eventname + " has not been defined");}(function() {if (typeof _B._mcallback[(_eventname).toLowerCase()]==="function") {var CSr = _B._mcallback[(_eventname).toLowerCase()](_B._result,_B);if(CSr!=null) {return CSr}}})();};_B.new_query=function() {_B._cw={};_B._ops.length=0;_B._fields.length=0;_B._sortby.length=0;_B._limitto=0;_B._skip=0;_B._affectedrows=0;_B._lastposition=-1;_B._result.length=0;return _B;};_B.add_fields=function(_flds) {var _item;for (var _itemindex=0;_itemindex<_flds.length;_itemindex++) {_item=_flds[_itemindex];_B._fields.push(_item);}return _B;};_B.add_order_by=function(_flds) {var _item;for (var _itemindex=0;_itemindex<_flds.length;_itemindex++) {_item=_flds[_itemindex];_B._sortby.push(_item);}return _B;};_B.add_where=function(_fld,_operator,_value) {var _fld1;switch ("" + _operator) {case "" + "=":_operator=_B._op_eq;break;case "" + "<>":_operator=_B._op_ne;break;case "" + ">":_operator=_B._op_gt;break;case "" + "<":_operator=_B._op_lt;break;case "" + ">=":_operator=_B._op_gte;break;case "" + "<=":_operator=_B._op_lte;break;case "" + "in":_operator=_B._op_in;break;case "" + "notin":_operator=_B._op_not_in;break;case "" + "exists":_operator=_B._op_exists;break;}_fld1=_B.mvfield(_fld,1,":",_B);_B._cw[_fld1]=_value;_B._ops.push(_operator);return _B;};_B.close=function() {_B._db["close"]();};_B.mvfield=function(_svalue,_iposition,_delimiter) {var _xpos,_mvalues,_tvalues,_sb,_startcnt;if (_svalue.length==0) { return "";}_xpos=_svalue.indexOf(_delimiter);if (_xpos==-1) { return _svalue;}_mvalues=_B.strparse(_delimiter,_svalue,_B);_tvalues=0;_tvalues=_mvalues.length-1;switch ("" + _iposition) {case "" + -1:return _mvalues[_tvalues];case "" + -2:return _mvalues[_tvalues-1];case "" + -3:_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_startcnt=0;_sb.append(_mvalues[1]);for (_startcnt=2;_startcnt<=_tvalues;_startcnt++) {_sb.append(_delimiter);_sb.append(_mvalues[_startcnt]);}return _sb.toString();default:_iposition=_iposition-1;if (_iposition<=-1) {return _mvalues[_tvalues];}if (_iposition>_tvalues) {return "";}return _mvalues[_iposition];}};_B.cstr=function(_o) {if (is.null(_o) || is.undefined(_o)) {_o="";}if (_o=="null") { return "";}if (_o=="undefined") { return "";}return ""+_o;};_B.strparse=function(_delim,_inputstring) {var _nl;_nl=[];_nl.length=0;try {_inputstring=_B.cstr(_inputstring,_B);if (is.null(_inputstring) || is.undefined(_inputstring)) {_inputstring="";}if (_inputstring=="") { return _nl;}if (_inputstring.indexOf(_delim)==-1) {_nl.push(_inputstring);} else {_nl=_inputstring.split(_delim);}return _nl;} catch(err) {return _nl;}};_B.schemaaddblob=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_blob;}return _B;};_B.schemaaddboolean=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_bool;}return _B;};_B.schemaadddouble=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_double;}return _B;};_B.schemaaddfloat=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_float;}return _B;};_B.schemaaddtext=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_string;}return _B;};_B.schemaaddint=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_int;}return _B;};_B.schemaaddfield=function(_fldname,_fldtype) {_B._schema[_fldname]=_fldtype;};_B.schemaclear=function() {_B._schema={};return _B;};_B.preparerecord=function() {_B._record={};};_B.setrecord=function(_rec) {var _k,_v;var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_rec[_k];_B.setfield(_k,_v,_B);}};_B.setfield=function(_fldname,_fldvalue) {_B._record[_fldname]=_fldvalue;};_B.recordfrommap=function(_sm) {var _k,_v;_B._record={};var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_sm[_k];_B._record[_k]=_v;}};_B.nextrow=function() {var _realsize;_B._lastposition=_B._lastposition+1;_realsize=_B._rowcount-1;if (_B._lastposition>_realsize) {return false;} else {_B.setposition(_B._lastposition,_B);return true;}};_B.setposition=function(_pos) {if (_B._result.length>_pos) {_B._record=_B._result[_pos];_B._lastposition=_pos;} else {_B._lastposition=-1;_B._record={};}};_B.getposition=function() {return _B._lastposition;};_B.getint=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return 0;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cint(_obj);return _obj;} else {return 0;}};_B.getlong=function(_fld) {return _B.getint(_fld,_B);};_B.getstring=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return "";}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? "":_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cstr(_obj);return _obj;} else {return "";}};_B.getboolean=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return false;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? false:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.parsebool(_obj);return _obj;} else {return false;}};_B.getdouble=function(_fld) {var _obj;_fld=_fld.toLowerCase();if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cdbl(_obj);return _obj;} else {return 0;}};_B.getrecord=function(_pos) {var _rec;_rec=_B._result[_pos];return _rec;};_B.movestart=function() {_B._lastposition=-1;};_B.movefirst=function() {_B.setposition(0,_B);};_B.movelast=function() {_B.setposition(_B._rowcount-1,_B);};_B.moveprevious=function() {_B._lastposition=_B._lastposition-1;if (_B._lastposition<0) {_B._lastposition=0;}_B.setposition(_B._lastposition,_B);};_B.movenext=function() {_B._lastposition=_B._lastposition+1;if (_B._lastposition>_B._rowcount) {_B._lastposition=_B._rowcount-1;}_B.setposition(_B._lastposition,_B);};}