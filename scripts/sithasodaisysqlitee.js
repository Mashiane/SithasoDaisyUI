
/* sithasodaisysqlitee */
function banano_sithasodaisysqlitee_sduisqlitee() {var _B=this;_B._db_bool="BOOL";_B._db_int="INT";_B._db_string="STRING";_B._db_real="REAL";_B._db_date="DATE";_B._db_blob="BLOB";_B._db_integer="INTEGER";_B._db_text="TEXT";_B._db_float="FLOAT";_B._db_double="DOUBLE";_B._methodname="";_B._schema={};_B._dbase="";_B._result=[];_B._command="";_B._types=[];_B._args=[];_B._query="";_B._response="";_B._error="";_B._affectedrows=0;_B._json="";_B._ok=false;_B._tablename="";_B._primarykey="";_B._record={};_B._mai="";_B._view="";_B._action="";_B._noresult=false;_B._url="";_B._username="";_B._password="";_B._usebrackets=false;_B._lastposition=0;_B._rowcount=0;_B._wherefield={};_B._ops=[];_B._orderbyl=[];_B._flds=[];_B.clear_where=function() {_B._wherefield={};_B._ops.length=0;_B._orderbyl.length=0;_B._flds.length=0;return _B;};_B.add_field=function(_fld) {_B._flds.push(_fld);return _B;};_B.add_fields=function(_fields) {var _fld;for (var _fldindex=0;_fldindex<_fields.length;_fldindex++) {_fld=_fields[_fldindex];_B.add_field(_fld,_B);}return _B;};_B.add_where=function(_fld,_operator,_value) {_B._wherefield[_fld]=_value;_B._ops.push(_operator);return _B;};_B.add_order_by=function(_fld) {_B._orderbyl.push(_fld);return _B;};_B.importbulk=async function(_data) {var _m;_m={};_m["dbname"]=_B._dbase;_m["data"]=_data;await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": "SQLiteImportBulk", "params": _m}),false,null);};_B.readby=function(_pk,_pv) {_B._primarykey=_pk;_B.read(_pv,_B);};_B.deleteby=function(_pk,_pv) {_B._primarykey=_pk;_B.delete(_pv,_B);};_B.updateby=function(_pk,_pv) {_B._primarykey=_pk;_B.update(_pv,_B);};_B.reset=function() {_B._record={};_B._result.length=0;_B._command="";_B._types.length=0;_B._args.length=0;_B._query="";_B._response="";_B._error="";_B._affectedrows=0;_B._json="";_B._ok=false;_B._lastposition=0;_B._rowcount=0;};_B.setposition=function(_pos) {if (_B._result.length>_pos) {_B._record=_B._result[_pos];_B._lastposition=_pos;} else {_B._lastposition=-1;_B._record={};}};_B.getposition=function() {return _B._lastposition;};_B.getint=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return 0;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cint(_obj);return _obj;} else {return 0;}};_B.getlong=function(_fld) {return _B.getint(_fld,_B);};_B.getstring=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return "";}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? "":_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cstr(_obj);return _obj;} else {return "";}};_B.getboolean=function(_fld) {var _obj;_fld=_fld.toLowerCase();if (is.undefined(_B._record)) { return false;}if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? false:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.parsebool(_obj);return _obj;} else {return false;}};_B.getdouble=function(_fld) {var _obj;_fld=_fld.toLowerCase();if ((_fld in _B._record)) {_obj=_B._record[_fld]===undefined? 0:_B._record[_fld];_obj=_banano_sithasodaisy_sduishared.cdbl(_obj);return _obj;} else {return 0;}};_B.getrecord=function(_pos) {var _rec;_rec=_B._result[_pos];return _rec;};_B.schemaaddint1=function(_b) {_B._schema[_b]=_B._db_int;return _B;};_B.schemaaddtext1=function(_b) {_B._schema[_b]=_B._db_string;return _B;};_B.schemaaddfloat1=function(_b) {_B._schema[_b]=_B._db_float;return _B;};_B.schemaadddouble1=function(_b) {_B._schema[_b]=_B._db_double;return _B;};_B.schemaaddblob1=function(_b) {_B._schema[_b]=_B._db_blob;return _B;};_B.movestart=function() {_B._lastposition=-1;};_B.movefirst=function() {_B.setposition(0,_B);};_B.movelast=function() {_B.setposition(_B._rowcount-1,_B);};_B.moveprevious=function() {_B._lastposition=_B._lastposition-1;if (_B._lastposition<0) {_B._lastposition=0;}_B.setposition(_B._lastposition,_B);};_B.movenext=function() {_B._lastposition=_B._lastposition+1;if (_B._lastposition>_B._rowcount) {_B._lastposition=_B._rowcount-1;}_B.setposition(_B._lastposition,_B);};_B.setcallback=function(_v,_a) {_B._view=_v;_B._action=_a;};_B.recordfrommap=function(_sm) {var _k,_v;_B._record={};var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_sm[_k];_B._record[_k]=_v;}};_B.schemaaddfield=function(_fldname,_fldtype) {_B._schema[_fldname]=_fldtype;};_B.getmax=function() {var _BANp = gBANp(arguments);_B._query="SELECT MAX(" + _B._primarykey + ") As " + _B._primarykey + " FROM " + _B.escapefield(_B._tablename,_BANp,_B) + "";_B._command="select";return _B;};_B.getmaxwait=async function() {var _strerror;_B.getmax(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.getmin=function() {var _BANp = gBANp(arguments);_B._query="SELECT MIN(" + _B._primarykey + ") As " + _B._primarykey + " FROM " + _B.escapefield(_B._tablename,_BANp,_B) + "";_B._command="select";return _B;};_B.getminwait=async function() {var _strerror;_B.getmin(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.columnnames=function() {_B._query="PRAGMA table_info('" + _B._tablename + "')";_B._command="select";return _B;};_B.columnnameswait=async function() {var _strerror;_B.columnnames(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.describetable=function() {var _BANp = gBANp(arguments);_B._query="PRAGMA table_info('" + _B._tablename + "')";_B._command="select";return _B;};_B.describetablewait=async function() {var _strerror;_B.describetable(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.indexlist=function() {_B._query="PRAGMA index_list('" + _B._tablename + "')";_B._command="select";return _B;};_B.indexinfo=function(_idxname) {_B._query="PRAGMA index_info('" + _idxname + "')";_B._command="select";return _B;};_B.foreignkeylist=function() {_B._query="PRAGMA foreign_key_list('" + _B._tablename + "')";_B._command="select";return _B;};_B.foreignkeylistwait=async function() {var _strerror;_B.foreignkeylist(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.tablenames=function() {_B._query="SELECT name FROM sqlite_master WHERE type='table' AND name Not LIKE 'sqlite_%' ORDER BY name";_B._command="select";return _B;};_B.gettablenames=function() {var _BANp = gBANp(arguments);_B._query="SELECT name FROM sqlite_master WHERE type='table' AND name Not LIKE 'sqlite_%' ORDER BY name";_B._command="select";return _B;};_B.gettablenameswait=async function() {var _strerror;_B.gettablenames(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.andoroperators=function(_sm) {var _nl,_k;_nl=[];_nl.length=0;var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_nl.push("AND");}return _nl;};_B.selectwhere1=function(_tblfields,_tblwhere,_operators,_andor,_orderby) {var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_i,_iwhere,_sandor,_col,_coltype,_opr,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.SelectWhere1: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}if (is.null(_andor)) {_andor=_B.andoroperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sandor=_andor[_i];_sb.append(" " + _sandor + " ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_sb.append(_col);if ((_col in _B._schema)) {_coltype=_B._schema[_col];switch ("" + _coltype) {case "" + _B._db_text:case "" + _B._db_string:_sb.append(" COLLATE NOCASE");break;}}_opr=_operators[_i];_sb.append(" " + _opr + " ?");}if (true && _orderby.length>0) {_stro=_B.joinfields(",",_orderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;return _B;};_B.selectwhere1wait=async function(_tblfields,_tblwhere,_operators,_andor,_orderby) {var _strerror;_B.selectwhere1(_tblfields,_tblwhere,_operators,_andor,_orderby,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectwhereascdesc=function(_tblfields,_tblwhere,_operators,_orderby,_ascdesc) {var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_i,_iwhere,_col,_oper,_coltype,_xorder,_obtot,_obcnt,_xfld,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.SelectWhereAscDesc: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_oper=_operators[_i];_sb.append(_B.escapefield(_col,_B));if ((_col in _B._schema)) {_coltype=_B._schema[_col];switch ("" + _coltype) {case "" + _B._db_text:case "" + _B._db_string:_sb.append(" COLLATE NOCASE");break;}}_sb.append(" " + _oper + " ?");}if (true && _orderby.length>0) {_xorder=[];_xorder.length=0;_obtot=_orderby.length-1;_obcnt=0;for (_obcnt=0;_obcnt<=_obtot;_obcnt++) {_xfld=_orderby[_obcnt];if (true && _ascdesc.length>0) {if (_ascdesc.indexOf(_xfld)>=0) {_xfld=_B.escapefield(_xfld,_B)+" DESC";_xorder.push(_xfld);}} else {_xorder.push(_B.escapefield(_xfld,_B));}}_stro=_B.join(",",_xorder,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";return _B;};_B.selectwhereascdescwait=async function(_tblfields,_tblwhere,_operators,_orderby,_ascdesc) {var _strerror;_B.selectwhereascdesc(_tblfields,_tblwhere,_operators,_orderby,_ascdesc,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectmaxwhere=function(_fld,_tblwhere,_operators) {var _listoftypes,_listofvalues,_sb,_i,_iwhere,_col,_oper,_coltype;if (Object.keys(_B._schema).length==0) {console.log("BANanoMySQL.SelectMaxWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT MAX(" + _fld + ") As " + _fld + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_oper=_operators[_i];_sb.append(_B.escapefield(_col,_B));if ((_col in _B._schema)) {_coltype=_B._schema[_col];switch ("" + _coltype) {case "" + _B._db_text:case "" + _B._db_string:_sb.append(" COLLATE NOCASE");break;}}_sb.append(" " + _oper + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";return _B;};_B.selectmaxwherewait=async function(_fld,_tblwhere,_operators) {var _strerror;_B.selectmaxwhere(_fld,_tblwhere,_operators,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.newlist=function() {var _BANp = gBANp(arguments);var _lst;_lst=[];_lst.length=0;return _lst;};_B.getnextid=function() {var _nextid,_strid,_nr,_ni;_nextid=0;_strid="";if (_B._result.length==0) {_nextid=0;} else {_nr=_B._result[0];_ni=_nr[_B._primarykey]===undefined? "0":_nr[_B._primarykey];_nextid=parseInt(_ni);}_nextid=_nextid+1;_strid=_B.cstr(_nextid,_B);_nextid=parseInt(_nextid);return _strid;};_B.cstr=function(_o) {if (is.null(_o) || is.undefined(_o)) {_o="";}if (_o=="null") { return "";}if (_o=="undefined") { return "";}return ""+_o;};_B.initialize=function(_dbname,_tblname,_pk,_ai) {var _BANp = gBANp(arguments);_B._schema={};_B._record={};_B._usebrackets=false;_B._methodname="SDUISQLite";_B._url="";_B._result.length=0;_B._command="";_B._primarykey=_pk;_B._dbase=_dbname;_B._tablename=_tblname;_B._types.length=0;_B._args.length=0;_B._query="";_B._response="";_B._error="";_B._affectedrows=0;_B._json="";_B._ok=false;_B._mai=_ai;_B._noresult=false;_B._username="";_B._password="";_B._usebrackets=true;_B._lastposition=0;_B._rowcount=0;return _B;};_B.selecteverything=function() {var _tblfields,_orderby;_tblfields=[];_tblfields.length=0;_tblfields.push("*");_orderby=[];_orderby.length=0;_B.selectall(_tblfields,_orderby,_B);return _B;};_B.selecteverythingwait=async function() {var _strerror;_B.selecteverything(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.builddirect=function() {var _BANp = gBANp(arguments);var _largs,_ltypes,_b;_largs=[];_ltypes=[];_largs=((_B._args.length==0) ? null : _B._args);_ltypes=((_B._types.length==0) ? null : _B._types);_b={};_b["command"]=_B._command;_b["query"]=_B._query;_b["args"]=_largs;_b["types"]=_ltypes;_b["dbname"]=_B._dbase;_b["table"]=_B._tablename;_b["primarykey"]=_B._primarykey;_b["autoincrement"]=_B._mai;_b["username"]=_B._username;_b["password"]=_B._password;return _b;};_B.setconnection=function(_susername,_spassword) {_B._username=_susername;_B._password=_spassword;};_B.schemaclear=function() {var _BANp = gBANp(arguments);_B._schema={};return _B;};_B.newrecord=function() {_B._record={};};_B.setfield=function(_fldname,_fldvalue) {_B._record[_fldname]=_fldvalue;return _B;};_B.schemaaddboolean=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_bool;}return _B;};_B.schemaaddint=function(_bools) {var _BANp = gBANp(arguments);var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_integer;}return _B;};_B.schemaaddfloat=function(_bools) {var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_float;}return _B;};_B.schemaadddouble=function(_bools) {var _BANp = gBANp(arguments);var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_double;}return _B;};_B.schemaaddblob=function(_bools) {var _BANp = gBANp(arguments);var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_blob;}return _B;};_B.schemaaddtext=function(_bools) {var _BANp = gBANp(arguments);var _b;for (var _bindex=0;_bindex<_bools.length;_bindex++) {_b=_bools[_bindex];_B._schema[_b]=_B._db_string;}return _B;};_B.json2map=function(_strjson) {var _jsonx,_map1;_jsonx={};_map1={};_map1={};_map1={};try {if (_strjson.length>0) {_jsonx=JSON.parse(_strjson);_map1=_jsonx;}return _map1;} catch(err) {return _map1;}};_B.map2json=function(_mp) {var _jsonx;_jsonx={};_jsonx=_mp;return JSON.stringify(_jsonx);};_B.escapefield=function(_f) {var _BANp = gBANp(arguments);if (_B._usebrackets) {return "[" + _f + "]";} else {return _f;}};_B.createdatabase=function() {_B._query="CREATE DATABASE IF NOT EXISTS " + _B.escapefield(_B._dbase,_B) + "";_B._command="createdb";return _B;};_B.dropdatabase=function() {_B._query="DROP DATABASE " + _B.escapefield(_B._dbase,_B) + "";_B._command="dropdb";return _B;};_B.execute=function(_strsql) {var _BANp = gBANp(arguments);_B._query=_strsql;_B._command="execute";return _B;};_B.executewait=async function(_qry) {var _strerror;_B.execute(_qry,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.schemacreatetable=function() {var _BANp = gBANp(arguments);return _B.createtable(_B._schema,_BANp,_B);};_B.createtable=function(_tblfields) {var _BANp = gBANp(arguments);var _fldname,_fldtype,_fldtot,_fldcnt,_sb;_fldname="";_fldtype="";_fldtot=0;_fldcnt=0;_fldtot=Object.keys(_tblfields).length-1;_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("(");for (_fldcnt=0;_fldcnt<=_fldtot;_fldcnt++) {_fldname=banano_getB4JKeyAt(_tblfields,_fldcnt);_fldtype=_tblfields[_fldname];_fldtype=_fldtype.split("STRING").join("TEXT");_fldtype=_fldtype.split("TEXT").join("VARCHAR(255)");if (_fldtype==_B._db_int) {_fldtype=_B._db_integer;}if (_fldcnt>0) {_sb.append(", ");}_sb.append(_B.escapefield(_fldname,_BANp,_B));_sb.append(" ");_sb.append(_fldtype);switch ("" + _fldtype) {case "" + "STRING":case "" + "TEXT":case "" + "VARCHAR(255)":_sb.append(" COLLATE NOCASE");break;}if (_fldname.equalsIgnoreCase(_B._primarykey)) {_sb.append(" PRIMARY KEY");}if (_fldname.equalsIgnoreCase(_B._mai)) {_sb.append(" AUTOINCREMENT");}}_sb.append(")");_B._query="CREATE TABLE IF NOT EXISTS "+_B.escapefield(_B._tablename,_BANp,_B)+" "+_sb.toString();_B._command="createtable";return _B;};_B.droptable=function() {var _BANp = gBANp(arguments);_B._query="DROP TABLE "+_B.escapefield(_B._tablename,_BANp,_B);_B._command="droptable";return _B;};_B.droptablewait=async function() {var _strerror;_B.droptable(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.getmaptypes=function(_sourcemap) {var _BANp = gBANp(arguments);var _listoftypes,_icnt,_itot,_col,_coltype;_listoftypes=[];_listoftypes.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;for (_icnt=0;_icnt<=_itot;_icnt++) {_col=banano_getB4JKeyAt(_sourcemap,_icnt);_coltype=_B._schema[_col]===undefined? "STRING":_B._schema[_col];switch ("" + _coltype) {case "" + "INTEGER":case "" + "INT":case "" + "BOOL":case "" + "BOOLEAN":_listoftypes.push("i");break;case "" + "BLOB":_listoftypes.push("b");break;case "" + "REAL":case "" + "FLOAT":case "" + "DOUBLE":_listoftypes.push("d");break;default:_listoftypes.push("s");break;}}return _listoftypes;};_B.getmaptype=function(_k) {var _coltype;if ((_k in _B._schema)) {_coltype=_B._schema[_k]===undefined? "STRING":_B._schema[_k];switch ("" + _coltype) {case "" + "INTEGER":case "" + "INT":case "" + "BOOL":case "" + "BOOLEAN":return "i";case "" + "BLOB":return "b";case "" + "REAL":case "" + "FLOAT":case "" + "DOUBLE":return "d";default:return "s";}} else {return "s";}};_B.getmapvalues=function(_sourcemap) {var _BANp = gBANp(arguments);var _listofvalues,_icnt,_itot,_key,_value,_vtype;_listofvalues=[];_listofvalues.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;for (_icnt=0;_icnt<=_itot;_icnt++) {_key=banano_getB4JKeyAt(_sourcemap,_icnt);_value=banano_getB4JValueAt(_sourcemap,_icnt);_value=_B.cstr(_value,_B);_value=_value.trim();_vtype=_B.getmaptype(_key,_B);switch ("" + _vtype) {case "" + "i":if (_value=="") {_value="0";}_value=parseInt(_value);break;case "" + "d":if (_value=="") {_value="0";}_value=parseFloat(_value);break;case "" + "s":case "" + "b":break;}_listofvalues.push(_value);}return _listofvalues;};_B.getmapkeys=function(_sourcemap) {var _listofvalues,_icnt,_itot,_value;_listofvalues=[];_listofvalues.length=0;_icnt=0;_itot=0;_itot=Object.keys(_sourcemap).length-1;for (_icnt=0;_icnt<=_itot;_icnt++) {_value=banano_getB4JKeyAt(_sourcemap,_icnt);_listofvalues.push(_value);}return _listofvalues;};_B.insert=function() {_B.insert1(_B._record,_B);return _B;};_B.insert1=function(_rec) {var _BANp = gBANp(arguments);var _sb,_columns,_values,_listofvalues,_listoftypes,_icnt,_itot,_col;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.Insert1: '" + _B._tablename + "' schema is not set!");}_sb=new StringBuilder();_columns=new StringBuilder();_values=new StringBuilder();_listofvalues=_B.getmapvalues(_rec,_BANp,_B);_listoftypes=_B.getmaptypes(_rec,_BANp,_B);_icnt=0;_itot=0;_sb.init();_sb.isinitialized=true;_columns.init();_columns.isinitialized=true;_values.init();_values.isinitialized=true;_sb.append("INSERT INTO " + _B.escapefield(_B._tablename,_BANp,_B) + " (");_itot=Object.keys(_rec).length-1;for (_icnt=0;_icnt<=_itot;_icnt++) {_col=banano_getB4JKeyAt(_rec,_icnt);if (_icnt>0) {_columns.append(", ");_values.append(", ");}_columns.append(_B.escapefield(_col,_BANp,_B));_values.append("?");}_sb.append(_columns.toString());_sb.append(") VALUES (");_sb.append(_values.toString());_sb.append(")");_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="insert";return _B;};_B.insertreplace=function() {var _sb,_columns,_values,_listofvalues,_listoftypes,_icnt,_itot,_col;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.InsertReplace: '" + _B._tablename + "' schema is not set!");}_sb=new StringBuilder();_columns=new StringBuilder();_values=new StringBuilder();_listofvalues=_B.getmapvalues(_B._record,_B);_listoftypes=_B.getmaptypes(_B._record,_B);_icnt=0;_itot=0;_sb.init();_sb.isinitialized=true;_columns.init();_columns.isinitialized=true;_values.init();_values.isinitialized=true;_sb.append("REPLACE INTO " + _B.escapefield(_B._tablename,_B) + " (");_itot=Object.keys(_B._record).length-1;for (_icnt=0;_icnt<=_itot;_icnt++) {_col=banano_getB4JKeyAt(_B._record,_icnt);if (_icnt>0) {_columns.append(", ");_values.append(", ");}_columns.append(_B.escapefield(_col,_B));_values.append("?");}_sb.append(_columns.toString());_sb.append(") VALUES (");_sb.append(_values.toString());_sb.append(")");_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="insert";return _B;};_B.preparerecord=function() {_B._record={};};_B.setrecord=function(_rec) {var _k,_v;var _kKeys = Object.keys(_rec);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_v=_rec[_k];_B.setfield(_k,_v,_B);}};_B.insertwait=async function() {var _strerror;_B.insert1(_B._record,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.delete=function(_primaryvalue) {var _BANp = gBANp(arguments);var _qw;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.Delete: '" + _B._tablename + "' schema is not set!");}_qw={};_qw[_B._primarykey]=_primaryvalue;_B.deletewhere(_qw,["="],_BANp,_B);return _B;};_B.deletewait=async function(_pk) {var _strerror;_B.delete(_pk,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.getcount=function() {var _BANp = gBANp(arguments);_B._query="select count(*) as records from " + _B._tablename + "";_B._command="select";return _B;};_B.getcountwait=async function() {var _strerror;_B.getcount(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.joinfields=function(_delimiter,_lst) {var _BANp = gBANp(arguments);var _i,_sb,_fld;_i=0;_sb=new StringBuilder();_fld="";_sb.init();_sb.isinitialized=true;_fld=_lst[0];_fld=_B.escapefield(_fld,_B);_sb.append(_fld);for (_i=1;_i<=_lst.length-1;_i++) {_fld=_lst[_i];_fld=_B.escapefield(_fld,_B);_sb.append(_delimiter).append(_fld);}return _sb.toString();};_B.join=function(_delimiter,_lst) {var _i,_sb,_fld;_i=0;_sb=new StringBuilder();_fld="";_sb.init();_sb.isinitialized=true;_fld=_lst[0];_sb.append(_fld);for (_i=1;_i<=_lst.length-1;_i++) {_fld=_lst[_i];_sb.append(_delimiter).append(_fld);}return _sb.toString();};_B.read=function(_primaryvalue) {var _BANp = gBANp(arguments);var _qw;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.Read: '" + _B._tablename + "' schema is not set!");}_qw={};_qw[_B._primarykey]=_primaryvalue;_B.selectwhere(["*"],_qw,null,[_B._primarykey],_BANp,_B);return _B;};_B.readwait=async function(_primaryvalue) {var _strerror;_B.read(_primaryvalue,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.exists=function(_primaryvalue) {var _qw;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.Exists: '" + _B._tablename + "' schema is not set!");}_qw={};_qw[_B._primarykey]=_primaryvalue;_B.selectwhere([_B._primarykey],_qw,null,[_B._primarykey],_B);return _B;};_B.existswait=async function(_primaryvalue) {var _strerror;_B.exists(_primaryvalue,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectwhere=function(_tblfields,_tblwhere,_operators,_orderby) {var _BANp = gBANp(arguments);var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_i,_iwhere,_col,_oper,_coltype,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.SelectWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_BANp,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_BANp,_B);_listofvalues=_B.getmapvalues(_tblwhere,_BANp,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_BANp,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_BANp,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_oper=_operators[_i];_sb.append(_B.escapefield(_col,_BANp,_B));if ((_col in _B._schema)) {_coltype=_B._schema[_col];switch ("" + _coltype) {case "" + _B._db_text:case "" + _B._db_string:_sb.append(" COLLATE NOCASE");break;}}_sb.append(" " + _oper + " ?");}if (true && _orderby.length>0) {_stro=_B.joinfields(",",_orderby,_BANp,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";return _B;};_B.selectwherewait=async function(_tblfields,_tblwhere,_operators,_orderby) {var _strerror;_B.selectwhere(_tblfields,_tblwhere,_operators,_orderby,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectdistinctwhere=function(_tblfields,_tblwhere,_operators,_orderby) {var _listoftypes,_listofvalues,_fld1,_selfields,_sb,_i,_iwhere,_col,_oper,_coltype,_stro;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.SelectDistinctWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_B);_listofvalues=_B.getmapvalues(_tblwhere,_B);if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT DISTINCT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_oper=_operators[_i];_sb.append(_B.escapefield(_col,_B));if ((_col in _B._schema)) {_coltype=_B._schema[_col];switch ("" + _coltype) {case "" + _B._db_text:case "" + _B._db_string:_sb.append(" COLLATE NOCASE");break;}}_sb.append(" " + _oper + " ?");}if (true && _orderby.length>0) {_stro=_B.joinfields(",",_orderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="select";return _B;};_B.selectdistinctwherewait=async function(_tblfields,_tblwhere,_operators,_orderby) {var _strerror;_B.selectdistinctwhere(_tblfields,_tblwhere,_operators,_orderby,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.deleteall=function() {_B._query="DELETE FROM " + _B.escapefield(_B._tablename,_B) + "";_B._command="delete";return _B;};_B.deleteallwait=async function() {var _strerror;_B.deleteall(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.resetautoincrement=function() {_B._query="delete from sqlite_sequence where name='" + _B._tablename + "'";_B._command="delete";return _B;};_B.truncate=function() {_B._query="TRUNCATE TABLE " + _B.escapefield(_B._tablename,_B) + "";_B._command="delete";return _B;};_B.eqoperators=function(_sm) {var _BANp = gBANp(arguments);var _nl,_k;_nl=[];_nl.length=0;var _kKeys = Object.keys(_sm);for (var _kindex=0;_kindex<_kKeys.length;_kindex++) {_k=_kKeys[_kindex];_nl.push("=");}return _nl;};_B.deletewhere=function(_tblwhere,_operators) {var _BANp = gBANp(arguments);var _listoftypes,_listofvalues,_sb,_i,_iwhere,_col,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.DeleteWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_BANp,_B);}_listoftypes=_B.getmaptypes(_tblwhere,_BANp,_B);_listofvalues=_B.getmapvalues(_tblwhere,_BANp,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("DELETE FROM " + _B.escapefield(_B._tablename,_BANp,_B) + " WHERE ");_i=0;_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_sb.append(_B.escapefield(_col,_BANp,_B));_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="delete";return _B;};_B.deletewherewait=async function(_tblwhere,_operators) {var _strerror;_B.deletewhere(_tblwhere,_operators,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.selectall=function(_tblfields,_orderby) {var _BANp = gBANp(arguments);var _fld1,_selfields,_sb,_stro;if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_BANp,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_BANp,_B) + "");if (true && _orderby.length>0) {_stro=_B.joinfields(",",_orderby,_BANp,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._command="select";return _B;};_B.selectallwait=async function(_tblfields,_orderby) {var _strerror;_B.selectall(_tblfields,_orderby,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectdistinctall=function(_tblfields,_orderby) {var _fld1,_selfields,_sb,_stro;if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT DISTINCT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + "");if (true && _orderby.length>0) {_stro=_B.joinfields(",",_orderby,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._command="select";return _B;};_B.selectdistinctallwait=async function(_tblfields,_orderby) {var _strerror;_B.selectdistinctall(_tblfields,_orderby,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.build=function() {var _BANp = gBANp(arguments);var _largs,_ltypes,_b;_largs=[];_ltypes=[];_largs=((_B._args.length==0) ? null : _B._args);_ltypes=((_B._types.length==0) ? null : _B._types);_b={};_b["dbname"]=_B._dbase;_b["command"]=_B._command;_b["query"]=_B._query;_b["args"]=_largs;_b["types"]=_ltypes;return _b;};_B.build1=function() {var _largs,_ltypes,_b;_largs=[];_ltypes=[];_largs=((_B._args.length==0) ? null : _B._args);_ltypes=((_B._types.length==0) ? null : _B._types);_b={};_b["dbname"]=_B._dbase;_b["command"]=_B._command;_b["query"]=_B._query;_b["args"]=_largs;_b["types"]=_ltypes;_b["view"]=_B._view;_b["action"]=_B._action;_b["noresult"]=_B._noresult;return _b;};_B.firstrecord=function() {var _rec;_rec=_B._result[0];return _rec;};_B.update=function(_privalue) {var _tblwhere;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.Update: '" + _B._tablename + "' schema is not set!");}_tblwhere={};_tblwhere[_B._primarykey]=_privalue;_B.updatewhere(_B._record,_tblwhere,null,_B);return _B;};_B.update1=function(_rec,_privalue) {var _BANp = gBANp(arguments);var _tblwhere;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.Update1: '" + _B._tablename + "' schema is not set!");}_B._record=_rec;_tblwhere={};_tblwhere[_B._primarykey]=_privalue;_B.updatewhere(_rec,_tblwhere,null,_BANp,_B);return _B;};_B.updatewait=async function(_rec,_privalue) {var _strerror;_B.update1(_rec,_privalue,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.updatewhere=function(_tblfields,_tblwhere,_operators) {var _BANp = gBANp(arguments);var _listoftypes,_listoftypes1,_listofvalues,_listofvalues1,_sb,_i,_itot,_col,_iwhere,_opr;if (Object.keys(_B._schema).length==0) {console.log("SDUISQLiteE.UpdateWhere: '" + _B._tablename + "' schema is not set!");}if (is.null(_operators)) {_operators=_B.eqoperators(_tblwhere,_BANp,_B);}_listoftypes=_B.getmaptypes(_tblfields,_BANp,_B);_listoftypes1=_B.getmaptypes(_tblwhere,_BANp,_B);_listoftypes.push(..._listoftypes1);_listofvalues=_B.getmapvalues(_tblfields,_BANp,_B);_listofvalues1=_B.getmapvalues(_tblwhere,_BANp,_B);_listofvalues.push(..._listofvalues1);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("UPDATE " + _B.escapefield(_B._tablename,_BANp,_B) + " SET ");_i=0;_itot=Object.keys(_tblfields).length-1;for (_i=0;_i<=_itot;_i++) {_col=banano_getB4JKeyAt(_tblfields,_i);_sb.append(_B.escapefield(_col,_BANp,_B));if (_i!=_itot) {_sb.append("= ?,");} else {_sb.append("= ?");}}_sb.append(" WHERE ");_iwhere=Object.keys(_tblwhere).length-1;for (_i=0;_i<=_iwhere;_i++) {if (_i>0) {_sb.append(" AND ");}_col=banano_getB4JKeyAt(_tblwhere,_i);_sb.append(_B.escapefield(_col,_BANp,_B));_opr=_operators[_i];_sb.append(" " + _opr + " ?");}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="update";return _B;};_B.updatewherewait=async function(_tblfields,_tblwhere,_operators) {var _strerror;_B.updatewhere(_tblfields,_tblwhere,_operators,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.updateall=function(_tblfields) {var _operators,_listoftypes,_listofvalues,_sb,_i,_itot,_col,_oper;if (Object.keys(_B._schema).length==0) {console.log("BANanoSQLite.UpdateAll: '" + _B._tablename + "' schema is not set!");}_operators=_B.eqoperators(_tblfields,_B);_listoftypes=_B.getmaptypes(_tblfields,_B);_listofvalues=_B.getmapvalues(_tblfields,_B);_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("UPDATE " + _B.escapefield(_B._tablename,_B) + " SET ");_i=0;_itot=Object.keys(_tblfields).length-1;for (_i=0;_i<=_itot;_i++) {_col=banano_getB4JKeyAt(_tblfields,_i);_oper=_operators[_i];_sb.append(_col);if (_i!=_itot) {_sb.append(" " + _oper + " ?,");} else {_sb.append(" " + _oper + " ?");}}_B._query=_sb.toString();_B._args=_listofvalues;_B._types=_listoftypes;_B._command="update";return _B;};_B.updateallwait=async function(_tblfields) {var _strerror;_B.updateall(_tblfields,_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);return false;}return true;};_B.nextrow=function() {var _realsize;_B._lastposition=_B._lastposition+1;_realsize=_B._rowcount-1;if (_B._lastposition>_realsize) {return false;} else {_B.setposition(_B._lastposition,_B);return true;}};_B.fromjson=function() {var _BANp = gBANp(arguments);var _m;_B._lastposition=-1;_B._ok=false;if (_B._json.startsWith("{") || _B._json.startsWith("[")) {_m=JSON.parse(_B._json);_B._response=_m["response"];_B._error=_m["error"];_B._result=_m["result"];_B._affectedrows=_m["affectedRows"];if (_B._response=="Success") {_B._ok=true;}} else {_B._response=_B._json;_B._error=_B._json;_B._result=_B.newlist(_BANp,_B);_B._affectedrows=-1;_B._ok=false;}_B._rowcount=_B._affectedrows;return _B;};_B.getsum=function() {var _BANp = gBANp(arguments);_B._query="select sum(" + _B._primarykey + ") as " + _B._primarykey + " from " + _B._tablename + "";_B._command="select";};_B.getsumwait=async function() {var _strerror;_B.getsum(_B);_B._json=await callAjaxWait('https://localhost/sithasodaisydemo/sithasodaisydemo.php','POST','json', JSON.stringify({"request": _B._methodname, "params": _B.build(_B)}),false,null);_B.fromjson(_B);_B._rowcount=_B._result.length;_B._affectedrows=_B._rowcount;switch ("" + _B._ok) {case "" + false:_strerror=_B._error;console.log(_strerror);break;}return _B._result;};_B.selectallascdesc=function(_tblfields,_orderby,_ascdesc) {var _fld1,_selfields,_sb,_xorder,_obtot,_obcnt,_xfld,_stro;if (_tblfields.length==0) {_tblfields.push("*");}_fld1=_tblfields[0];_selfields="";switch ("" + _fld1) {case "" + "*":_selfields="*";break;default:_selfields=_B.joinfields(",",_tblfields,_B);break;}_sb=new StringBuilder();_sb.init();_sb.isinitialized=true;_sb.append("SELECT " + _selfields + " FROM " + _B.escapefield(_B._tablename,_B) + "");if (true && _orderby.length>0) {_xorder=[];_xorder.length=0;_obtot=_orderby.length-1;_obcnt=0;for (_obcnt=0;_obcnt<=_obtot;_obcnt++) {_xfld=_orderby[_obcnt];if (true && _ascdesc.length>0) {if (_ascdesc.indexOf(_xfld)>=0) {_xfld=_B.escapefield(_xfld,_B)+" DESC";_xorder.push(_xfld);}} else {_xorder.push(_B.escapefield(_xfld,_B));}}_stro=_B.join(",",_xorder,_B);if (_stro.length>0) {_sb.append(" ORDER BY ").append(_stro);}}_B._query=_sb.toString();_B._command="select";_B._response="";_B._error="";_B._result=_B.newlist(_B);_B._json="";_B._affectedrows=0;};_B.getindexes=function(_res) {var _fldnames,_idx,_sidxname,_sidxunique,_sidxorigin,_sidxprimary,_nidx;_fldnames=[];_fldnames.length=0;for (var _idxindex=0;_idxindex<_res.length;_idxindex++) {_idx=_res[_idxindex];_sidxname=_idx["name"];_sidxunique=_idx["unique"];_sidxorigin=_idx["origin"];_sidxprimary="No";if (_sidxorigin=="pk") {_sidxprimary="Yes";}if (_sidxunique=="0") {_sidxunique="No";}if (_sidxunique=="1") {_sidxunique="Yes";}_nidx={};_nidx["name"]=_sidxname;_nidx["unique"]=_sidxunique;_nidx["pk"]=_sidxprimary;_fldnames.push(_nidx);}return _fldnames;};_B.getschema=function(_fldsx) {var _fldnames,_spri,_fldm,_newfld,_sdefault,_sfield,_snull,_spk,_stype,_fldlen,_fldtype;_fldnames=[];_fldnames.length=0;_spri="";for (var _fldmindex=0;_fldmindex<_fldsx.length;_fldmindex++) {_fldm=_fldsx[_fldmindex];_newfld={};_sdefault=_fldm["dflt_value"]===undefined? "":_fldm["dflt_value"];_sfield=_fldm["name"]===undefined? "":_fldm["name"];_snull=_fldm["notnull"]===undefined? "0":_fldm["notnull"];_spk=_fldm["pk"]===undefined? "0":_fldm["pk"];_stype=_fldm["type"]===undefined? "":_fldm["type"];if (_snull=="0") {_snull="No";}if (_snull=="1") {_snull="Yes";}_sdefault=_banano_sithasodaisy_sduishared.cstr(_sdefault);_sdefault=_sdefault.split("'").join("");_sfield=_banano_sithasodaisy_sduishared.cstr(_sfield);_snull=_banano_sithasodaisy_sduishared.cstr(_snull);_stype=_banano_sithasodaisy_sduishared.cstr(_stype);if (_spk=="1") {_spri=_sfield;}_fldlen=_banano_sithasodaisy_sduishared.mvfield(_stype,1,",");_fldlen=_banano_sithasodaisy_sduishared.val(_fldlen);_fldtype=_banano_sithasodaisy_sduishared.alpha(_stype);_newfld["defaultvalue"]=_sdefault;_newfld["fieldname"]=_sfield;_newfld["fieldtype"]=_fldtype;_newfld["fieldlen"]=_fldlen;_newfld["acceptnull"]=_snull;if (_spri.equalsIgnoreCase(_sfield)) {_newfld["pri"]="Yes";} else {_newfld["pri"]="No";}_fldnames.push(_newfld);}return _fldnames;};}